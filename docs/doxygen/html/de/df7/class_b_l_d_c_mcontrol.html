<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TLE956x_Lib_doxygen: BLDCMcontrol Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TLE956x_Lib_doxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../df/d39/class_b_l_d_c_mcontrol-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">BLDCMcontrol Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>contains functions to control various types of BLDC motors using a TL9563 SBC  
 <a href="../../de/df7/class_b_l_d_c_mcontrol.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d7/da6/_b_l_d_c_m-control_8hpp_source.html">BLDCM-control.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for BLDCMcontrol:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../de/df7/class_b_l_d_c_mcontrol.png" usemap="#BLDCMcontrol_map" alt=""/>
  <map id="BLDCMcontrol_map" name="BLDCMcontrol_map">
<area href="../../d3/dbb/class_b_l_d_c_mcontrol_ino.html" title="represents the BLDCMcontrol base class" alt="BLDCMcontrolIno" shape="rect" coords="0,56,112,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/daf/struct_b_l_d_c_mcontrol_1_1_b_l_d_c_parameter.html">BLDCParameter</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:adbebbd3ed425f306d115fb361778cbf4"><td class="memItemLeft" align="right" valign="top"><a id="adbebbd3ed425f306d115fb361778cbf4" name="adbebbd3ed425f306d115fb361778cbf4"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/df7/class_b_l_d_c_mcontrol.html#adbebbd3ed425f306d115fb361778cbf4">_MotorModes</a> { <b>BLDC_BEMF</b> = 1
, <b>BLDC_HALL</b> = 2
, <b>BLDC_FOC</b> = 3
 }</td></tr>
<tr class="memdesc:adbebbd3ed425f306d115fb361778cbf4"><td class="mdescLeft">&#160;</td><td class="mdescRight">enum for BLDC motor control modes <br /></td></tr>
<tr class="separator:adbebbd3ed425f306d115fb361778cbf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00b92644410af58117df103716e33245"><td class="memItemLeft" align="right" valign="top"><a id="a00b92644410af58117df103716e33245" name="a00b92644410af58117df103716e33245"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>_SetSpeedModes</b> { <b>BLDC_DUTYCYCLE</b> = 1
, <b>BLDC_RPM</b> = 2
, <b>BLDC_POSITION</b> = 3
 }</td></tr>
<tr class="separator:a00b92644410af58117df103716e33245"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89d095c1db397fc696a666b9a33821a6"><td class="memItemLeft" align="right" valign="top"><a id="a89d095c1db397fc696a666b9a33821a6" name="a89d095c1db397fc696a666b9a33821a6"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>_ErrorMessages</b> { <b>PARAMETER_MISSING</b> = 1
, <b>PARAMETER_OUT_OF_RANGE</b> = 2
 }</td></tr>
<tr class="separator:a89d095c1db397fc696a666b9a33821a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a54e4b7cf0a494a60dd0c584506482985"><td class="memItemLeft" align="right" valign="top"><a id="a54e4b7cf0a494a60dd0c584506482985" name="a54e4b7cf0a494a60dd0c584506482985"></a>
<a class="el" href="../../d1/daf/struct_b_l_d_c_mcontrol_1_1_b_l_d_c_parameter.html">BLDCParameter</a>&#160;</td><td class="memItemRight" valign="bottom"><b>MotorParam</b></td></tr>
<tr class="separator:a54e4b7cf0a494a60dd0c584506482985"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af92366e4f3ef2f3333241376d2b506e5"><td class="memItemLeft" align="right" valign="top"><a id="af92366e4f3ef2f3333241376d2b506e5" name="af92366e4f3ef2f3333241376d2b506e5"></a>
volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>interrupt_status_changed</b> = 0</td></tr>
<tr class="separator:af92366e4f3ef2f3333241376d2b506e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34bbdf54cf63ea765a5411b3045a9041"><td class="memItemLeft" align="right" valign="top"><a id="a34bbdf54cf63ea765a5411b3045a9041" name="a34bbdf54cf63ea765a5411b3045a9041"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>debug_switch_enable</b> = 0</td></tr>
<tr class="separator:a34bbdf54cf63ea765a5411b3045a9041"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9821679b71a1a031077b569d6e9b679"><td class="memItemLeft" align="right" valign="top"><a id="ae9821679b71a1a031077b569d6e9b679" name="ae9821679b71a1a031077b569d6e9b679"></a>
<a class="el" href="../../d0/d80/class_tle9563.html">Tle9563</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>controller</b></td></tr>
<tr class="memdesc:ae9821679b71a1a031077b569d6e9b679"><td class="mdescLeft">&#160;</td><td class="mdescRight">generate an instance of a TLE9563 controller used on this board <br /></td></tr>
<tr class="separator:ae9821679b71a1a031077b569d6e9b679"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a9625871c082263f43466c91905d5c715"><td class="memItemLeft" align="right" valign="top"><a id="a9625871c082263f43466c91905d5c715" name="a9625871c082263f43466c91905d5c715"></a>
<a class="el" href="../../de/d30/class_analog_digital_converter.html">AnalogDigitalConverter</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>pwmU</b></td></tr>
<tr class="separator:a9625871c082263f43466c91905d5c715"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1833afbfd5d7eaacdc112d279b0f6dd"><td class="memItemLeft" align="right" valign="top"><a id="aa1833afbfd5d7eaacdc112d279b0f6dd" name="aa1833afbfd5d7eaacdc112d279b0f6dd"></a>
<a class="el" href="../../de/d30/class_analog_digital_converter.html">AnalogDigitalConverter</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>pwmV</b></td></tr>
<tr class="separator:aa1833afbfd5d7eaacdc112d279b0f6dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05dbb17b3e52933eeb1f82d3d6a8bb40"><td class="memItemLeft" align="right" valign="top"><a id="a05dbb17b3e52933eeb1f82d3d6a8bb40" name="a05dbb17b3e52933eeb1f82d3d6a8bb40"></a>
<a class="el" href="../../de/d30/class_analog_digital_converter.html">AnalogDigitalConverter</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>pwmW</b></td></tr>
<tr class="separator:a05dbb17b3e52933eeb1f82d3d6a8bb40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4324ff5c77f6f7c64e828f46a75c29c5"><td class="memItemLeft" align="right" valign="top"><a id="a4324ff5c77f6f7c64e828f46a75c29c5" name="a4324ff5c77f6f7c64e828f46a75c29c5"></a>
<a class="el" href="../../d4/dde/class_g_p_i_o.html">GPIO</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>bemfU</b></td></tr>
<tr class="separator:a4324ff5c77f6f7c64e828f46a75c29c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a948628e55c806885ed97ce589dff6a38"><td class="memItemLeft" align="right" valign="top"><a id="a948628e55c806885ed97ce589dff6a38" name="a948628e55c806885ed97ce589dff6a38"></a>
<a class="el" href="../../d4/dde/class_g_p_i_o.html">GPIO</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>bemfV</b></td></tr>
<tr class="separator:a948628e55c806885ed97ce589dff6a38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e6a42fd3990f42f84d2e915df3c8cfb"><td class="memItemLeft" align="right" valign="top"><a id="a0e6a42fd3990f42f84d2e915df3c8cfb" name="a0e6a42fd3990f42f84d2e915df3c8cfb"></a>
<a class="el" href="../../d4/dde/class_g_p_i_o.html">GPIO</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>bemfW</b></td></tr>
<tr class="separator:a0e6a42fd3990f42f84d2e915df3c8cfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87605e5b806c4ab1771872b7c52ccc7b"><td class="memItemLeft" align="right" valign="top"><a id="a87605e5b806c4ab1771872b7c52ccc7b" name="a87605e5b806c4ab1771872b7c52ccc7b"></a>
<a class="el" href="../../d4/dde/class_g_p_i_o.html">GPIO</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>hallA</b></td></tr>
<tr class="separator:a87605e5b806c4ab1771872b7c52ccc7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a611875d33869a713bf42de249aa005cf"><td class="memItemLeft" align="right" valign="top"><a id="a611875d33869a713bf42de249aa005cf" name="a611875d33869a713bf42de249aa005cf"></a>
<a class="el" href="../../d4/dde/class_g_p_i_o.html">GPIO</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>hallB</b></td></tr>
<tr class="separator:a611875d33869a713bf42de249aa005cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b52c47286c70763b1d4fe330e45db88"><td class="memItemLeft" align="right" valign="top"><a id="a6b52c47286c70763b1d4fe330e45db88" name="a6b52c47286c70763b1d4fe330e45db88"></a>
<a class="el" href="../../d4/dde/class_g_p_i_o.html">GPIO</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>hallC</b></td></tr>
<tr class="separator:a6b52c47286c70763b1d4fe330e45db88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3c9c38194452d45d643d6e3d56a809d"><td class="memItemLeft" align="right" valign="top"><a id="ab3c9c38194452d45d643d6e3d56a809d" name="ab3c9c38194452d45d643d6e3d56a809d"></a>
<a class="el" href="../../d8/d08/class_timer.html">Timer</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>timer</b></td></tr>
<tr class="separator:ab3c9c38194452d45d643d6e3d56a809d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02b628f8f16a45b9d32074a79923a0c9"><td class="memItemLeft" align="right" valign="top"><a id="a02b628f8f16a45b9d32074a79923a0c9" name="a02b628f8f16a45b9d32074a79923a0c9"></a>
<a class="el" href="../../d8/d08/class_timer.html">Timer</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>rpmtimer</b></td></tr>
<tr class="separator:a02b628f8f16a45b9d32074a79923a0c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a878c7b9c1b5ab10ed596ad49996ab0b8"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/df7/class_b_l_d_c_mcontrol.html#a878c7b9c1b5ab10ed596ad49996ab0b8">HallPattern</a> [2][2][7]</td></tr>
<tr class="memdesc:a878c7b9c1b5ab10ed596ad49996ab0b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">contains a mapping to know what is the next commutation step when a certain hall pattern is available The first index switches between normal mode and fast mode (field weakening range) The second index switches the direction between forward and backward The third index for the pattern is the Hallsensor input as a decimal value (e.g 0b00000101 (BIN) is 5 (DEC)) The value at the index position delivers the commutation state for the next step.  <a href="../../de/df7/class_b_l_d_c_mcontrol.html#a878c7b9c1b5ab10ed596ad49996ab0b8">More...</a><br /></td></tr>
<tr class="separator:a878c7b9c1b5ab10ed596ad49996ab0b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fed704cb770bbcf5c8ef4a0448263b9"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/df7/class_b_l_d_c_mcontrol.html#a6fed704cb770bbcf5c8ef4a0448263b9">BEMFPattern</a> [2][2][7]</td></tr>
<tr class="memdesc:a6fed704cb770bbcf5c8ef4a0448263b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">contains a mapping to know what is the next commutation step when a certain BEMF pattern is available The first index switches between normal mode and fast mode (field weakening range) (NOT WORKING IN BEMF MODE) The second index switches the direction between forward and backward The third index for the pattern is the BEMF input as a decimal value (e.g 0b00000101 (BIN) is 5 (DEC)) The value at the index position delivers the commutation state for the next step.  <a href="../../de/df7/class_b_l_d_c_mcontrol.html#a6fed704cb770bbcf5c8ef4a0448263b9">More...</a><br /></td></tr>
<tr class="separator:a6fed704cb770bbcf5c8ef4a0448263b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49891d895b8602fd9c2d34a4044fc6b8"><td class="memItemLeft" align="right" valign="top"><a id="a49891d895b8602fd9c2d34a4044fc6b8" name="a49891d895b8602fd9c2d34a4044fc6b8"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>_DutyCycle</b> = 0</td></tr>
<tr class="separator:a49891d895b8602fd9c2d34a4044fc6b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab80ea10474004e48fec12327da3d864f"><td class="memItemLeft" align="right" valign="top"><a id="ab80ea10474004e48fec12327da3d864f" name="ab80ea10474004e48fec12327da3d864f"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>_RefRPM</b> = 0</td></tr>
<tr class="separator:ab80ea10474004e48fec12327da3d864f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac53a386931ba4e1cc47a6663ca541576"><td class="memItemLeft" align="right" valign="top"><a id="ac53a386931ba4e1cc47a6663ca541576" name="ac53a386931ba4e1cc47a6663ca541576"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>_MotorStartEnable</b> = 0</td></tr>
<tr class="separator:ac53a386931ba4e1cc47a6663ca541576"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa85a275eb5d236d7c2b18deae1f1f15d"><td class="memItemLeft" align="right" valign="top"><a id="aa85a275eb5d236d7c2b18deae1f1f15d" name="aa85a275eb5d236d7c2b18deae1f1f15d"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>_Direction</b> = 0</td></tr>
<tr class="separator:aa85a275eb5d236d7c2b18deae1f1f15d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae79725a7fa43becec097e76b29dda955"><td class="memItemLeft" align="right" valign="top"><a id="ae79725a7fa43becec097e76b29dda955" name="ae79725a7fa43becec097e76b29dda955"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>_FieldWeakening</b> = 0</td></tr>
<tr class="separator:ae79725a7fa43becec097e76b29dda955"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7392966b5f15ff006cfde11f70f2a263"><td class="memItemLeft" align="right" valign="top"><a id="a7392966b5f15ff006cfde11f70f2a263" name="a7392966b5f15ff006cfde11f70f2a263"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>_LastBLDCspeed</b> = 0</td></tr>
<tr class="separator:a7392966b5f15ff006cfde11f70f2a263"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3519e221a37d3a8ec9e12bef9930170"><td class="memItemLeft" align="right" valign="top"><a id="ad3519e221a37d3a8ec9e12bef9930170" name="ad3519e221a37d3a8ec9e12bef9930170"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>_Commutation</b> = 0</td></tr>
<tr class="separator:ad3519e221a37d3a8ec9e12bef9930170"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00d22069b5412b679240d7d1e4e362e1"><td class="memItemLeft" align="right" valign="top"><a id="a00d22069b5412b679240d7d1e4e362e1" name="a00d22069b5412b679240d7d1e4e362e1"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>_commutationStep</b> = 0</td></tr>
<tr class="separator:a00d22069b5412b679240d7d1e4e362e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a432983f17d4458320c954681a8b6b1c0"><td class="memItemLeft" align="right" valign="top"><a id="a432983f17d4458320c954681a8b6b1c0" name="a432983f17d4458320c954681a8b6b1c0"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>_oldPattern</b> = 0</td></tr>
<tr class="separator:a432983f17d4458320c954681a8b6b1c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fa343e90244ead35ca9f6090d25acbc"><td class="memItemLeft" align="right" valign="top"><a id="a4fa343e90244ead35ca9f6090d25acbc" name="a4fa343e90244ead35ca9f6090d25acbc"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>_latestPattern</b> = 0</td></tr>
<tr class="separator:a4fa343e90244ead35ca9f6090d25acbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4afb763e5eaa610614e79e5ab4d7125b"><td class="memItemLeft" align="right" valign="top"><a id="a4afb763e5eaa610614e79e5ab4d7125b" name="a4afb763e5eaa610614e79e5ab4d7125b"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>_StepCounter</b> = 0</td></tr>
<tr class="separator:a4afb763e5eaa610614e79e5ab4d7125b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b118ce92a9a7fbdfa92268afa11c96a"><td class="memItemLeft" align="right" valign="top"><a id="a3b118ce92a9a7fbdfa92268afa11c96a" name="a3b118ce92a9a7fbdfa92268afa11c96a"></a>
unsigned long&#160;</td><td class="memItemRight" valign="bottom"><b>_PI_Update_Timeout</b> = 999999999</td></tr>
<tr class="separator:a3b118ce92a9a7fbdfa92268afa11c96a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dd60f776e15278b1bd82843537c398c"><td class="memItemLeft" align="right" valign="top"><a id="a8dd60f776e15278b1bd82843537c398c" name="a8dd60f776e15278b1bd82843537c398c"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>_PI_Integral</b> = 5000.0</td></tr>
<tr class="separator:a8dd60f776e15278b1bd82843537c398c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16ebdceba698efe310d7853f7b9e69a8"><td class="memItemLeft" align="right" valign="top"><a id="a16ebdceba698efe310d7853f7b9e69a8" name="a16ebdceba698efe310d7853f7b9e69a8"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>_NumberofSteps</b> = 0</td></tr>
<tr class="separator:a16ebdceba698efe310d7853f7b9e69a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a762fa75025735991818d3c6443e58232"><td class="memItemLeft" align="right" valign="top"><a id="a762fa75025735991818d3c6443e58232" name="a762fa75025735991818d3c6443e58232"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>_debug_counter</b> = 0</td></tr>
<tr class="separator:a762fa75025735991818d3c6443e58232"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad199e68da79ec653ffc20cb0c3f71d00"><td class="memItemLeft" align="right" valign="top"><a id="ad199e68da79ec653ffc20cb0c3f71d00" name="ad199e68da79ec653ffc20cb0c3f71d00"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>_RFTReg_enable</b> = 0</td></tr>
<tr class="separator:ad199e68da79ec653ffc20cb0c3f71d00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee9cf675b16a1d4a4700afa1adb95e03"><td class="memItemLeft" align="right" valign="top"><a id="aee9cf675b16a1d4a4700afa1adb95e03" name="aee9cf675b16a1d4a4700afa1adb95e03"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>_RFTReg_phase</b> = 0</td></tr>
<tr class="separator:aee9cf675b16a1d4a4700afa1adb95e03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95d9c4b2331bbb3307bf75c292caa192"><td class="memItemLeft" align="right" valign="top"><a id="a95d9c4b2331bbb3307bf75c292caa192" name="a95d9c4b2331bbb3307bf75c292caa192"></a>
uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><b>_RFT_iCharge</b> = NULL</td></tr>
<tr class="separator:a95d9c4b2331bbb3307bf75c292caa192"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b7ce667a35fb42939ec7ddfb11c7404"><td class="memItemLeft" align="right" valign="top"><a id="a4b7ce667a35fb42939ec7ddfb11c7404" name="a4b7ce667a35fb42939ec7ddfb11c7404"></a>
uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><b>_RFT_iDischarge</b> = NULL</td></tr>
<tr class="separator:a4b7ce667a35fb42939ec7ddfb11c7404"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69aecaa45efaa306779659a8931100c1"><td class="memItemLeft" align="right" valign="top"><a id="a69aecaa45efaa306779659a8931100c1" name="a69aecaa45efaa306779659a8931100c1"></a>
uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><b>_RFT_risetime</b> = NULL</td></tr>
<tr class="separator:a69aecaa45efaa306779659a8931100c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc5cd6a9b217a0dd2609fadb48ea4ae5"><td class="memItemLeft" align="right" valign="top"><a id="afc5cd6a9b217a0dd2609fadb48ea4ae5" name="afc5cd6a9b217a0dd2609fadb48ea4ae5"></a>
uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><b>_RFT_falltime</b> = NULL</td></tr>
<tr class="separator:afc5cd6a9b217a0dd2609fadb48ea4ae5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">BLDCM-control.cpp - Arduino library to control Infineon's BLDC Motor Control Shield with Tle9563</h2></td></tr>
<tr><td class="ititle" colspan="2"><p ><a class="anchor" id="amgrpe291b080ad2dc87bd257074e9c24b5fb"></a>This library includes the basic common functions to control a BLDC motor using an instance of TLE9563 tle9563corelib</p>
<dl class="section author"><dt>Author</dt><dd>Infineon Technologies AG </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>2020-2021 Infineon Technologies AG </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0.0</dd></dl>
<p>SPDX-License-Identifier: MIT </p>
</td></tr>
<tr class="memitem:adbfcf401465986805ca622e9cd965f8f"><td class="memItemLeft" align="right" valign="top"><a id="adbfcf401465986805ca622e9cd965f8f" name="adbfcf401465986805ca622e9cd965f8f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>BLDCMcontrol</b> (void)</td></tr>
<tr class="separator:adbfcf401465986805ca622e9cd965f8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1297cb4038c778812233ecd641713024"><td class="memItemLeft" align="right" valign="top"><a id="a1297cb4038c778812233ecd641713024" name="a1297cb4038c778812233ecd641713024"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>~BLDCMcontrol</b> (void)</td></tr>
<tr class="separator:a1297cb4038c778812233ecd641713024"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a441143709285434163afdc8423789ca5"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/df7/class_b_l_d_c_mcontrol.html#a441143709285434163afdc8423789ca5">serveBLDCshield</a> (void)</td></tr>
<tr class="memdesc:a441143709285434163afdc8423789ca5"><td class="mdescLeft">&#160;</td><td class="mdescRight">serve the BLDC-concerning functions periodically Needs to be called periodically in the user main routine.  <a href="../../de/df7/class_b_l_d_c_mcontrol.html#a441143709285434163afdc8423789ca5">More...</a><br /></td></tr>
<tr class="separator:a441143709285434163afdc8423789ca5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af77038072deb7add69ecd795e6b92cfd"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/df7/class_b_l_d_c_mcontrol.html#af77038072deb7add69ecd795e6b92cfd">checkTLEshield</a> ()</td></tr>
<tr class="memdesc:af77038072deb7add69ecd795e6b92cfd"><td class="mdescLeft">&#160;</td><td class="mdescRight">check is status information is available If information is available, it will be printed automatically by the frontend.  <a href="../../de/df7/class_b_l_d_c_mcontrol.html#af77038072deb7add69ecd795e6b92cfd">More...</a><br /></td></tr>
<tr class="separator:af77038072deb7add69ecd795e6b92cfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa67ed1478b0aa0e586cf4985df560608"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/df7/class_b_l_d_c_mcontrol.html#aa67ed1478b0aa0e586cf4985df560608">configBLDCshield</a> (uint8_t agc=AGC_ACTIVE)</td></tr>
<tr class="memdesc:aa67ed1478b0aa0e586cf4985df560608"><td class="mdescLeft">&#160;</td><td class="mdescRight">config the TLE9563 chip with customized settings needs to be called once before the motor will be started  <a href="../../de/df7/class_b_l_d_c_mcontrol.html#aa67ed1478b0aa0e586cf4985df560608">More...</a><br /></td></tr>
<tr class="separator:aa67ed1478b0aa0e586cf4985df560608"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aceeca2f716f9bc97b33ab2bb3931e9a3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/df7/class_b_l_d_c_mcontrol.html#aceeca2f716f9bc97b33ab2bb3931e9a3">setLED</a> (uint16_t red, uint16_t green, uint16_t blue)</td></tr>
<tr class="memdesc:aceeca2f716f9bc97b33ab2bb3931e9a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">set color and brightness of the onboard RGB-LED  <a href="../../de/df7/class_b_l_d_c_mcontrol.html#aceeca2f716f9bc97b33ab2bb3931e9a3">More...</a><br /></td></tr>
<tr class="separator:aceeca2f716f9bc97b33ab2bb3931e9a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97960d80e8c866277bd0bc597f5d13a7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/df7/class_b_l_d_c_mcontrol.html#a97960d80e8c866277bd0bc597f5d13a7">setBLDCspeed</a> (uint32_t speed, bool direction, uint8_t fieldweakening=0)</td></tr>
<tr class="memdesc:a97960d80e8c866277bd0bc597f5d13a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">set speed by handing over the dutycycle to the global _DutyCycle variable  <a href="../../de/df7/class_b_l_d_c_mcontrol.html#a97960d80e8c866277bd0bc597f5d13a7">More...</a><br /></td></tr>
<tr class="separator:a97960d80e8c866277bd0bc597f5d13a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5d5cffe3475075818a8b29da61f5557"><td class="memItemLeft" align="right" valign="top"><a id="ae5d5cffe3475075818a8b29da61f5557" name="ae5d5cffe3475075818a8b29da61f5557"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>startBLDCM</b> (void)</td></tr>
<tr class="memdesc:ae5d5cffe3475075818a8b29da61f5557"><td class="mdescLeft">&#160;</td><td class="mdescRight">do a blind commutation to start up the BLDC in BEMF mode <br /></td></tr>
<tr class="separator:ae5d5cffe3475075818a8b29da61f5557"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1d7bf8f70b327f312e83ebdb7a2551f"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/df7/class_b_l_d_c_mcontrol.html#ac1d7bf8f70b327f312e83ebdb7a2551f">stopBLDCM</a> (uint8_t brakemode)</td></tr>
<tr class="memdesc:ac1d7bf8f70b327f312e83ebdb7a2551f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop a BLDC motor be either switching off all halfbridges or let the float (TODO)  <a href="../../de/df7/class_b_l_d_c_mcontrol.html#ac1d7bf8f70b327f312e83ebdb7a2551f">More...</a><br /></td></tr>
<tr class="separator:ac1d7bf8f70b327f312e83ebdb7a2551f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06134dd6d9cdfa2d87c1e8be1bc7ef63"><td class="memItemLeft" align="right" valign="top"><a id="a06134dd6d9cdfa2d87c1e8be1bc7ef63" name="a06134dd6d9cdfa2d87c1e8be1bc7ef63"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>begin</b> ()</td></tr>
<tr class="memdesc:a06134dd6d9cdfa2d87c1e8be1bc7ef63"><td class="mdescLeft">&#160;</td><td class="mdescRight">initalize GPIOs and PWM pins <br /></td></tr>
<tr class="separator:a06134dd6d9cdfa2d87c1e8be1bc7ef63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fd5ebab7dce850ab61c0ed61a34fc66"><td class="memItemLeft" align="right" valign="top"><a id="a7fd5ebab7dce850ab61c0ed61a34fc66" name="a7fd5ebab7dce850ab61c0ed61a34fc66"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>end</b> ()</td></tr>
<tr class="memdesc:a7fd5ebab7dce850ab61c0ed61a34fc66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deinitialize GPIOs and PWM pins. <br /></td></tr>
<tr class="separator:a7fd5ebab7dce850ab61c0ed61a34fc66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d3bd179731c4ab34cb845f4cd8f584e"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/df7/class_b_l_d_c_mcontrol.html#a5d3bd179731c4ab34cb845f4cd8f584e">commutateHallBLDC</a> (uint8_t dutycycle, uint8_t commutation_step, bool hallsensor)</td></tr>
<tr class="memdesc:a5d3bd179731c4ab34cb845f4cd8f584e"><td class="mdescLeft">&#160;</td><td class="mdescRight">only for FindPolepairs frontend function  <a href="../../de/df7/class_b_l_d_c_mcontrol.html#a5d3bd179731c4ab34cb845f4cd8f584e">More...</a><br /></td></tr>
<tr class="separator:a5d3bd179731c4ab34cb845f4cd8f584e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a039bee500b086e82745fd36b76908db3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/df7/class_b_l_d_c_mcontrol.html#a039bee500b086e82745fd36b76908db3">setupRiseFallTimeRegulation</a> (uint8_t hb)</td></tr>
<tr class="memdesc:a039bee500b086e82745fd36b76908db3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the algorithm for rise/falltime regulation.  <a href="../../de/df7/class_b_l_d_c_mcontrol.html#a039bee500b086e82745fd36b76908db3">More...</a><br /></td></tr>
<tr class="separator:a039bee500b086e82745fd36b76908db3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26add64fa56fa4a9a52a724036a664e8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/df7/class_b_l_d_c_mcontrol.html#a26add64fa56fa4a9a52a724036a664e8">riseFallTimeRegulation</a> (uint8_t hb, uint8_t *iCharge, uint8_t *iDischarge, uint8_t *risetime, uint8_t *falltime)</td></tr>
<tr class="memdesc:a26add64fa56fa4a9a52a724036a664e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">reads out the actual MOSFET rise-time (fall-time) and compares it to the desired rise-(fall-)time. The algorithm then adjusts the charge current ICHG for the active MOSFET of the selected halfbridge.  <a href="../../de/df7/class_b_l_d_c_mcontrol.html#a26add64fa56fa4a9a52a724036a664e8">More...</a><br /></td></tr>
<tr class="separator:a26add64fa56fa4a9a52a724036a664e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59c67eedf12193991d96262df0ecd21d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/df7/class_b_l_d_c_mcontrol.html#a59c67eedf12193991d96262df0ecd21d">setTrisefallTarget</a> (uint8_t trise_tg, uint8_t tfall_tg)</td></tr>
<tr class="memdesc:a59c67eedf12193991d96262df0ecd21d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the T_Rise and T_Fall target times where the regulation loop should go to.  <a href="../../de/df7/class_b_l_d_c_mcontrol.html#a59c67eedf12193991d96262df0ecd21d">More...</a><br /></td></tr>
<tr class="separator:a59c67eedf12193991d96262df0ecd21d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f76e5dcad3446716b2cb94447f3d474"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/df7/class_b_l_d_c_mcontrol.html#a4f76e5dcad3446716b2cb94447f3d474">getCurrent</a> (void)</td></tr>
<tr class="memdesc:a4f76e5dcad3446716b2cb94447f3d474"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the Current flowing in the BLDC shield The maximum current that can be measured with G_DIFF20 is 49,8A. The resolution is 48,7mA.  <a href="../../de/df7/class_b_l_d_c_mcontrol.html#a4f76e5dcad3446716b2cb94447f3d474">More...</a><br /></td></tr>
<tr class="separator:a4f76e5dcad3446716b2cb94447f3d474"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82aea9fa422c4961e9bc51448104c3b9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/df7/class_b_l_d_c_mcontrol.html#a82aea9fa422c4961e9bc51448104c3b9">PrintErrorMessage</a> (_ErrorMessages msg)</td></tr>
<tr class="memdesc:a82aea9fa422c4961e9bc51448104c3b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print a debug message, e.g. if configuration Parameter are missing.  <a href="../../de/df7/class_b_l_d_c_mcontrol.html#a82aea9fa422c4961e9bc51448104c3b9">More...</a><br /></td></tr>
<tr class="separator:a82aea9fa422c4961e9bc51448104c3b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f4c9783842b86adc5a0c115efb7820c"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/df7/class_b_l_d_c_mcontrol.html#a3f4c9783842b86adc5a0c115efb7820c">DoBEMFCommutation</a> (void)</td></tr>
<tr class="memdesc:a3f4c9783842b86adc5a0c115efb7820c"><td class="mdescLeft">&#160;</td><td class="mdescRight">check, if the BEMF state changed since the last time and commutate if necessary (non blocking function)  <a href="../../de/df7/class_b_l_d_c_mcontrol.html#a3f4c9783842b86adc5a0c115efb7820c">More...</a><br /></td></tr>
<tr class="separator:a3f4c9783842b86adc5a0c115efb7820c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bfd3d3f6abbcd16411659ac35a71ca8"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/df7/class_b_l_d_c_mcontrol.html#a1bfd3d3f6abbcd16411659ac35a71ca8">DoHALLCommutation</a> (void)</td></tr>
<tr class="memdesc:a1bfd3d3f6abbcd16411659ac35a71ca8"><td class="mdescLeft">&#160;</td><td class="mdescRight">check, if the HALL state changed since the last time and commutate if necessary (non blocking function)  <a href="../../de/df7/class_b_l_d_c_mcontrol.html#a1bfd3d3f6abbcd16411659ac35a71ca8">More...</a><br /></td></tr>
<tr class="separator:a1bfd3d3f6abbcd16411659ac35a71ca8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a126f57ec0db5feb1bc0b28de9c640a7f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/df7/class_b_l_d_c_mcontrol.html#a126f57ec0db5feb1bc0b28de9c640a7f">PI_Regulator_DoWork</a> (void)</td></tr>
<tr class="memdesc:a126f57ec0db5feb1bc0b28de9c640a7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">implement a PI regulator that sets the dutycycle in order to keep a desired RPM  <a href="../../de/df7/class_b_l_d_c_mcontrol.html#a126f57ec0db5feb1bc0b28de9c640a7f">More...</a><br /></td></tr>
<tr class="separator:a126f57ec0db5feb1bc0b28de9c640a7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34242fb60ba90c268c0c34bb7c254c44"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/df7/class_b_l_d_c_mcontrol.html#a34242fb60ba90c268c0c34bb7c254c44">ReadHallSensor</a> (void)</td></tr>
<tr class="memdesc:a34242fb60ba90c268c0c34bb7c254c44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the status of the three hallsensor pins and merge to a binary pattern Bit 2 is hallA Bit 1 is hallB Bit 0 is hallC.  <a href="../../de/df7/class_b_l_d_c_mcontrol.html#a34242fb60ba90c268c0c34bb7c254c44">More...</a><br /></td></tr>
<tr class="separator:a34242fb60ba90c268c0c34bb7c254c44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c71b8b41ff9a07bb8a9674d99654b5b"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/df7/class_b_l_d_c_mcontrol.html#a9c71b8b41ff9a07bb8a9674d99654b5b">ReadBEMFSensor</a> (void)</td></tr>
<tr class="memdesc:a9c71b8b41ff9a07bb8a9674d99654b5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the status of the three BEMF analog comparator outputs and merge to a binary pattern Bit 2 is bemfU Bit 1 is bemfV Bit 0 is bemfW.  <a href="../../de/df7/class_b_l_d_c_mcontrol.html#a9c71b8b41ff9a07bb8a9674d99654b5b">More...</a><br /></td></tr>
<tr class="separator:a9c71b8b41ff9a07bb8a9674d99654b5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e120427cce5e2bb5dae353540f13fa5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/df7/class_b_l_d_c_mcontrol.html#a0e120427cce5e2bb5dae353540f13fa5">UpdateHardware</a> (uint8_t CommutationStep)</td></tr>
<tr class="memdesc:a0e120427cce5e2bb5dae353540f13fa5"><td class="mdescLeft">&#160;</td><td class="mdescRight">contains the six steps of the six-step-blockcommutation in each step the gatedrivers of the TLE9563 are updated to either PWM, Ground or Floating. At the same time the PWM is assigned to the right output pin.  <a href="../../de/df7/class_b_l_d_c_mcontrol.html#a0e120427cce5e2bb5dae353540f13fa5">More...</a><br /></td></tr>
<tr class="separator:a0e120427cce5e2bb5dae353540f13fa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >contains functions to control various types of BLDC motors using a TL9563 SBC </p>
<p >With this class you are able to run a BLDC motor in BEMF mode or hallsensor mode using block commutation. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="af77038072deb7add69ecd795e6b92cfd" name="af77038072deb7add69ecd795e6b92cfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af77038072deb7add69ecd795e6b92cfd">&#9670;&nbsp;</a></span>checkTLEshield()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t BLDCMcontrol::checkTLEshield </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>check is status information is available If information is available, it will be printed automatically by the frontend. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>select the registers/information that you want to observe </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>uint8_t uint8_t Error return code / status report </dd></dl>

</div>
</div>
<a id="a5d3bd179731c4ab34cb845f4cd8f584e" name="a5d3bd179731c4ab34cb845f4cd8f584e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d3bd179731c4ab34cb845f4cd8f584e">&#9670;&nbsp;</a></span>commutateHallBLDC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t BLDCMcontrol::commutateHallBLDC </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>dutycycle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>commutation_step</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>hallsensor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>only for FindPolepairs frontend function </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dutycycle</td><td>dutycycle for single step operation (should be low) </td></tr>
    <tr><td class="paramname">commuation_step</td><td>[0;5] which should be the next step </td></tr>
    <tr><td class="paramname">hallsensor</td><td>if hallsensor used 1, else 0 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>uint8_t hallpattern if demanded </dd></dl>

</div>
</div>
<a id="aa67ed1478b0aa0e586cf4985df560608" name="aa67ed1478b0aa0e586cf4985df560608"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa67ed1478b0aa0e586cf4985df560608">&#9670;&nbsp;</a></span>configBLDCshield()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t BLDCMcontrol::configBLDCshield </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>agc</em> = <code>AGC_ACTIVE</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>config the TLE9563 chip with customized settings needs to be called once before the motor will be started </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">agc</td><td>Adaptive Gate Precharge controlloop: _Config_AGC </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>uint8_t </dd></dl>

</div>
</div>
<a id="a3f4c9783842b86adc5a0c115efb7820c" name="a3f4c9783842b86adc5a0c115efb7820c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f4c9783842b86adc5a0c115efb7820c">&#9670;&nbsp;</a></span>DoBEMFCommutation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t BLDCMcontrol::DoBEMFCommutation </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>check, if the BEMF state changed since the last time and commutate if necessary (non blocking function) </p>
<dl class="section return"><dt>Returns</dt><dd>uint8_t returns success or failure of startup / commutation </dd></dl>

</div>
</div>
<a id="a1bfd3d3f6abbcd16411659ac35a71ca8" name="a1bfd3d3f6abbcd16411659ac35a71ca8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bfd3d3f6abbcd16411659ac35a71ca8">&#9670;&nbsp;</a></span>DoHALLCommutation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t BLDCMcontrol::DoHALLCommutation </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>check, if the HALL state changed since the last time and commutate if necessary (non blocking function) </p>
<dl class="section return"><dt>Returns</dt><dd>uint8_t returns success or failure of startup / commutation </dd></dl>

</div>
</div>
<a id="a4f76e5dcad3446716b2cb94447f3d474" name="a4f76e5dcad3446716b2cb94447f3d474"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f76e5dcad3446716b2cb94447f3d474">&#9670;&nbsp;</a></span>getCurrent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float BLDCMcontrol::getCurrent </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the Current flowing in the BLDC shield The maximum current that can be measured with G_DIFF20 is 49,8A. The resolution is 48,7mA. </p>
<dl class="section return"><dt>Returns</dt><dd>float returns the current in milliAmps </dd></dl>

</div>
</div>
<a id="a126f57ec0db5feb1bc0b28de9c640a7f" name="a126f57ec0db5feb1bc0b28de9c640a7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a126f57ec0db5feb1bc0b28de9c640a7f">&#9670;&nbsp;</a></span>PI_Regulator_DoWork()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BLDCMcontrol::PI_Regulator_DoWork </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>implement a PI regulator that sets the dutycycle in order to keep a desired RPM </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">desired_rpmSpeed</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a82aea9fa422c4961e9bc51448104c3b9" name="a82aea9fa422c4961e9bc51448104c3b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82aea9fa422c4961e9bc51448104c3b9">&#9670;&nbsp;</a></span>PrintErrorMessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BLDCMcontrol::PrintErrorMessage </td>
          <td>(</td>
          <td class="paramtype">_ErrorMessages&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print a debug message, e.g. if configuration Parameter are missing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>hand over the error code </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9c71b8b41ff9a07bb8a9674d99654b5b" name="a9c71b8b41ff9a07bb8a9674d99654b5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c71b8b41ff9a07bb8a9674d99654b5b">&#9670;&nbsp;</a></span>ReadBEMFSensor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t BLDCMcontrol::ReadBEMFSensor </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read the status of the three BEMF analog comparator outputs and merge to a binary pattern Bit 2 is bemfU Bit 1 is bemfV Bit 0 is bemfW. </p>
<dl class="section return"><dt>Returns</dt><dd>uint8_t the merged pattern </dd></dl>

</div>
</div>
<a id="a34242fb60ba90c268c0c34bb7c254c44" name="a34242fb60ba90c268c0c34bb7c254c44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34242fb60ba90c268c0c34bb7c254c44">&#9670;&nbsp;</a></span>ReadHallSensor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t BLDCMcontrol::ReadHallSensor </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read the status of the three hallsensor pins and merge to a binary pattern Bit 2 is hallA Bit 1 is hallB Bit 0 is hallC. </p>
<dl class="section return"><dt>Returns</dt><dd>uint8_t the merged pattern </dd></dl>

</div>
</div>
<a id="a26add64fa56fa4a9a52a724036a664e8" name="a26add64fa56fa4a9a52a724036a664e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26add64fa56fa4a9a52a724036a664e8">&#9670;&nbsp;</a></span>riseFallTimeRegulation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BLDCMcontrol::riseFallTimeRegulation </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>hb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>iCharge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>iDischarge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>risetime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>falltime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>reads out the actual MOSFET rise-time (fall-time) and compares it to the desired rise-(fall-)time. The algorithm then adjusts the charge current ICHG for the active MOSFET of the selected halfbridge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hb</td><td>on which halfbridge should the algorithm be applied. Must be the same halfbridge where the PWM is routed to. </td></tr>
    <tr><td class="paramname">risetime</td><td>hands over the actual rise-time </td></tr>
    <tr><td class="paramname">falltime</td><td>hands oder the actual fall-time </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a441143709285434163afdc8423789ca5" name="a441143709285434163afdc8423789ca5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a441143709285434163afdc8423789ca5">&#9670;&nbsp;</a></span>serveBLDCshield()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t BLDCMcontrol::serveBLDCshield </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>serve the BLDC-concerning functions periodically Needs to be called periodically in the user main routine. </p>
<dl class="section return"><dt>Returns</dt><dd>uint8_t Error return code / status report </dd></dl>

</div>
</div>
<a id="a97960d80e8c866277bd0bc597f5d13a7" name="a97960d80e8c866277bd0bc597f5d13a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97960d80e8c866277bd0bc597f5d13a7">&#9670;&nbsp;</a></span>setBLDCspeed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BLDCMcontrol::setBLDCspeed </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>direction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>fieldweakening</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>set speed by handing over the dutycycle to the global _DutyCycle variable </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dutycycle</td><td>speed of the BLDCM (8-bit) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aceeca2f716f9bc97b33ab2bb3931e9a3" name="aceeca2f716f9bc97b33ab2bb3931e9a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aceeca2f716f9bc97b33ab2bb3931e9a3">&#9670;&nbsp;</a></span>setLED()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BLDCMcontrol::setLED </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>red</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>green</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>blue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>set color and brightness of the onboard RGB-LED </p>
<p >Uses the the highside switches and PWM modules of TLE9563. Each color has a 10-bit accuracy. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">red</td><td>brightness of the red LED (10-bit) </td></tr>
    <tr><td class="paramname">green</td><td>brightness of the green LED (10-bit) </td></tr>
    <tr><td class="paramname">blue</td><td>brightness of the blue LED (10-bit) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a59c67eedf12193991d96262df0ecd21d" name="a59c67eedf12193991d96262df0ecd21d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59c67eedf12193991d96262df0ecd21d">&#9670;&nbsp;</a></span>setTrisefallTarget()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BLDCMcontrol::setTrisefallTarget </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>trise_tg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>tfall_tg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the T_Rise and T_Fall target times where the regulation loop should go to. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trise_tg</td><td>rise time target [0;63] </td></tr>
    <tr><td class="paramname">tfall_tg</td><td>fall time target [0;63] </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a039bee500b086e82745fd36b76908db3" name="a039bee500b086e82745fd36b76908db3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a039bee500b086e82745fd36b76908db3">&#9670;&nbsp;</a></span>setupRiseFallTimeRegulation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BLDCMcontrol::setupRiseFallTimeRegulation </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>hb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the algorithm for rise/falltime regulation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hb</td><td>which halfbridges should be adjusted [PHASE1;PHASE3] </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac1d7bf8f70b327f312e83ebdb7a2551f" name="ac1d7bf8f70b327f312e83ebdb7a2551f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1d7bf8f70b327f312e83ebdb7a2551f">&#9670;&nbsp;</a></span>stopBLDCM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t BLDCMcontrol::stopBLDCM </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>brakemode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop a BLDC motor be either switching off all halfbridges or let the float (TODO) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">brakemode</td><td>BRAKEMODE_PASSIVE or BRAKEMODE_ACTIVE </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>uint8_t returns success or failure of stopping </dd></dl>

</div>
</div>
<a id="a0e120427cce5e2bb5dae353540f13fa5" name="a0e120427cce5e2bb5dae353540f13fa5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e120427cce5e2bb5dae353540f13fa5">&#9670;&nbsp;</a></span>UpdateHardware()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BLDCMcontrol::UpdateHardware </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>CommutationStep</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>contains the six steps of the six-step-blockcommutation in each step the gatedrivers of the TLE9563 are updated to either PWM, Ground or Floating. At the same time the PWM is assigned to the right output pin. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">CommutationStep</td><td>the actual commutation state, values 0 to 5 are allowed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a6fed704cb770bbcf5c8ef4a0448263b9" name="a6fed704cb770bbcf5c8ef4a0448263b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fed704cb770bbcf5c8ef4a0448263b9">&#9670;&nbsp;</a></span>BEMFPattern</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t BLDCMcontrol::BEMFPattern[2][2][7]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">            {</div>
<div class="line">                {9, 2,0,1,4,3,5},               </div>
<div class="line">                {9, 1,5,0,3,2,4}                </div>
<div class="line">            },</div>
<div class="line">            {</div>
<div class="line">                {9, 3,1,2,5,4,0},               </div>
<div class="line">                {9, 0,5,3,0,1,1}                 </div>
<div class="line">            }</div>
<div class="line">        }</div>
</div><!-- fragment -->
<p>contains a mapping to know what is the next commutation step when a certain BEMF pattern is available The first index switches between normal mode and fast mode (field weakening range) (NOT WORKING IN BEMF MODE) The second index switches the direction between forward and backward The third index for the pattern is the BEMF input as a decimal value (e.g 0b00000101 (BIN) is 5 (DEC)) The value at the index position delivers the commutation state for the next step. </p>

</div>
</div>
<a id="a878c7b9c1b5ab10ed596ad49996ab0b8" name="a878c7b9c1b5ab10ed596ad49996ab0b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a878c7b9c1b5ab10ed596ad49996ab0b8">&#9670;&nbsp;</a></span>HallPattern</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t BLDCMcontrol::HallPattern[2][2][7]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">            {</div>
<div class="line">                {9, 2,0,1,4,3,5},               </div>
<div class="line">                {9, 5,3,4,1,0,2}                </div>
<div class="line">            },</div>
<div class="line">            {</div>
<div class="line">                {9, 3,1,2,5,4,0},               </div>
<div class="line">                {9, 4,2,3,0,5,1}                </div>
<div class="line">            }</div>
<div class="line">        }</div>
</div><!-- fragment -->
<p>contains a mapping to know what is the next commutation step when a certain hall pattern is available The first index switches between normal mode and fast mode (field weakening range) The second index switches the direction between forward and backward The third index for the pattern is the Hallsensor input as a decimal value (e.g 0b00000101 (BIN) is 5 (DEC)) The value at the index position delivers the commutation state for the next step. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="../../d7/da6/_b_l_d_c_m-control_8hpp_source.html">BLDCM-control.hpp</a></li>
<li><a class="el" href="../../d0/d41/_b_l_d_c_m-control_8cpp.html">BLDCM-control.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
