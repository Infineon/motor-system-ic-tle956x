<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.2" xml:lang="en-US">
  <compounddef id="dd/d9f/_t_l_e9xxx_8cpp" kind="file" language="C++">
    <compoundname>TLE9xxx.cpp</compoundname>
    <includes refid="d7/def/_t_l_e9xxx_8hpp" local="yes">TLE9xxx.hpp</includes>
    <incdepgraph>
      <node id="5">
        <label>Arduino.h</label>
      </node>
      <node id="6">
        <label>TLE9xxx-reg.hpp</label>
        <link refid="d6/d9b/_t_l_e9xxx-reg_8hpp"/>
        <childnode refid="3" relation="include">
        </childnode>
      </node>
      <node id="1">
        <label>TLE9xxx.cpp</label>
        <link refid="dd/d9f/_t_l_e9xxx_8cpp"/>
        <childnode refid="2" relation="include">
        </childnode>
      </node>
      <node id="2">
        <label>TLE9xxx.hpp</label>
        <link refid="d7/def/_t_l_e9xxx_8hpp"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
      </node>
      <node id="10">
        <label>../pal/adc.hpp</label>
        <link refid="d5/d90/adc_8hpp"/>
        <childnode refid="3" relation="include">
        </childnode>
      </node>
      <node id="8">
        <label>../pal/gpio.hpp</label>
        <link refid="d1/d2c/gpio_8hpp"/>
        <childnode refid="3" relation="include">
        </childnode>
      </node>
      <node id="9">
        <label>../pal/spic.hpp</label>
        <link refid="d8/df0/spic_8hpp"/>
        <childnode refid="3" relation="include">
        </childnode>
      </node>
      <node id="7">
        <label>../pal/timer.hpp</label>
        <link refid="df/d05/timer_8hpp"/>
        <childnode refid="3" relation="include">
        </childnode>
      </node>
      <node id="3">
        <label>stdint.h</label>
      </node>
      <node id="4">
        <label>stdlib.h</label>
      </node>
    </incdepgraph>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="d7/def/_t_l_e9xxx_8hpp" kindref="compound">TLE9xxx.hpp</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"><ref refid="d9/d8d/group__tle9xxxapi_1ga53cf8385917444b08e99aedfd90c8c58" kindref="member">Tle9xxx::Tle9xxx</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="16"><highlight class="normal">{</highlight></codeline>
<codeline lineno="17"><highlight class="normal"><sp/><sp/><sp/><sp/>intn<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="18"><highlight class="normal"><sp/><sp/><sp/><sp/>sBus<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="19"><highlight class="normal"><sp/><sp/><sp/><sp/>csn<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="20"><highlight class="normal"><sp/><sp/><sp/><sp/>timer<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"><sp/><sp/><sp/><sp/>ActiveGround.HBmode<sp/>=<sp/>0b01;</highlight></codeline>
<codeline lineno="23"><highlight class="normal"><sp/><sp/><sp/><sp/>ActiveGround.Freewheeling<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/><sp/><sp/>ActiveGround.PWMenable<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/><sp/>ActivePWM.HBmode<sp/>=<sp/>0b10;</highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><sp/><sp/>ActivePWM.Freewheeling<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/>ActivePWM.PWMenable<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/>Floating.HBmode<sp/>=<sp/>0b11;</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/>Floating.Freewheeling<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/>Floating.PWMenable<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="33"><highlight class="normal">}</highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"><ref refid="d9/d8d/group__tle9xxxapi_1ga676b5b07865ba83c7dad25d87b6b9a66" kindref="member">Tle9xxx::~Tle9xxx</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="36"><highlight class="normal">{</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/>intn<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/>sBus<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/>csn<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/>timer<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="42"><highlight class="normal">}</highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga77033dbb01051216f3f7c39c2d6df4ab" kindref="member">Tle9xxx::SBC_CRC_Disable</ref>()</highlight></codeline>
<codeline lineno="45"><highlight class="normal">{</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t<sp/>byte0;</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/>csn-&gt;<ref refid="d4/dde/class_g_p_i_o_1ae2b3084845cf22ebda8d4705e9d9a40a" kindref="member">disable</ref>();</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/>sBus-&gt;<ref refid="d9/d8a/class_s_p_i_c_1a870e415e4d8a62c8cd67ae0f5a3db782" kindref="member">transfer</ref>(0xe7,<sp/>byte0);<sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>0b<sp/>1110<sp/>0111</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/>sBus-&gt;<ref refid="d9/d8a/class_s_p_i_c_1a870e415e4d8a62c8cd67ae0f5a3db782" kindref="member">transfer</ref>(0x55,<sp/>byte0);<sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>0b<sp/>0101<sp/>0101</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/>sBus-&gt;<ref refid="d9/d8a/class_s_p_i_c_1a870e415e4d8a62c8cd67ae0f5a3db782" kindref="member">transfer</ref>(0x55,<sp/>byte0);<sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>0b<sp/>0101<sp/>0101</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/>sBus-&gt;<ref refid="d9/d8a/class_s_p_i_c_1a870e415e4d8a62c8cd67ae0f5a3db782" kindref="member">transfer</ref>(0xc3,<sp/>byte0);<sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>0b<sp/>1100<sp/>0011</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/>csn-&gt;<ref refid="d4/dde/class_g_p_i_o_1a9fe4b4e3a68e8c4df663cc084357b460" kindref="member">enable</ref>();</highlight></codeline>
<codeline lineno="53"><highlight class="normal">}</highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal">uint8_t<sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga5671bd1e237f00622df09f1dc4f4aa4c" kindref="member">Tle9xxx::writeReg</ref>(uint8_t<sp/>addr,<sp/>uint16_t<sp/>data)</highlight></codeline>
<codeline lineno="56"><highlight class="normal">{</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t<sp/>byte0,<sp/>byte1,<sp/>byte2,<sp/>byte3;</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/>csn-&gt;<ref refid="d4/dde/class_g_p_i_o_1ae2b3084845cf22ebda8d4705e9d9a40a" kindref="member">disable</ref>();</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/>sBus-&gt;<ref refid="d9/d8a/class_s_p_i_c_1a870e415e4d8a62c8cd67ae0f5a3db782" kindref="member">transfer</ref>((addr|TLE9xxx_CMD_WRITE),<sp/>byte0);<sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>MSB:<sp/>Read/write<sp/>cmd,<sp/>bit<sp/>6:0<sp/>register<sp/>address</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/>sBus-&gt;<ref refid="d9/d8a/class_s_p_i_c_1a870e415e4d8a62c8cd67ae0f5a3db782" kindref="member">transfer</ref>((data&amp;0xFF),<sp/>byte1);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>lower<sp/>8<sp/>bit<sp/>of<sp/>data</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/>sBus-&gt;<ref refid="d9/d8a/class_s_p_i_c_1a870e415e4d8a62c8cd67ae0f5a3db782" kindref="member">transfer</ref>(((data&gt;&gt;8)&amp;0xFF),<sp/>byte2);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>upper<sp/>8<sp/>bit<sp/>of<sp/>data</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/>sBus-&gt;<ref refid="d9/d8a/class_s_p_i_c_1a870e415e4d8a62c8cd67ae0f5a3db782" kindref="member">transfer</ref>(0xA5,<sp/>byte3);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>for<sp/>CRC<sp/>disabled,<sp/>fill<sp/>with<sp/>static<sp/>pattern</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/>csn-&gt;<ref refid="d4/dde/class_g_p_i_o_1a9fe4b4e3a68e8c4df663cc084357b460" kindref="member">enable</ref>();</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>byte0;</highlight></codeline>
<codeline lineno="65"><highlight class="normal">}</highlight></codeline>
<codeline lineno="66"><highlight class="normal"></highlight></codeline>
<codeline lineno="67"><highlight class="normal">uint16_t<sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga93b8e9cce502e67533e47d443af36187" kindref="member">Tle9xxx::readReg</ref>(uint8_t<sp/>addr)</highlight></codeline>
<codeline lineno="68"><highlight class="normal">{</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t<sp/>byte0,<sp/>byte1,<sp/>byte2,<sp/>byte3;</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/>csn-&gt;<ref refid="d4/dde/class_g_p_i_o_1ae2b3084845cf22ebda8d4705e9d9a40a" kindref="member">disable</ref>();</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/>sBus-&gt;<ref refid="d9/d8a/class_s_p_i_c_1a870e415e4d8a62c8cd67ae0f5a3db782" kindref="member">transfer</ref>((addr|TLE9xxx_CMD_READ),<sp/>byte0);<sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>MSB:<sp/>Read/write<sp/>cmd,<sp/>bit<sp/>6:0<sp/>register<sp/>address</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/>sBus-&gt;<ref refid="d9/d8a/class_s_p_i_c_1a870e415e4d8a62c8cd67ae0f5a3db782" kindref="member">transfer</ref>(0xFF,<sp/>byte1);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>lower<sp/>8<sp/>bit<sp/>of<sp/>data</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/>sBus-&gt;<ref refid="d9/d8a/class_s_p_i_c_1a870e415e4d8a62c8cd67ae0f5a3db782" kindref="member">transfer</ref>(0xFF,<sp/>byte2);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>upper<sp/>8<sp/>bit<sp/>of<sp/>data</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/>sBus-&gt;<ref refid="d9/d8a/class_s_p_i_c_1a870e415e4d8a62c8cd67ae0f5a3db782" kindref="member">transfer</ref>(0xA5,<sp/>byte3);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>for<sp/>CRC<sp/>disabled,<sp/>fill<sp/>with<sp/>static<sp/>pattern</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/>csn-&gt;<ref refid="d4/dde/class_g_p_i_o_1a9fe4b4e3a68e8c4df663cc084357b460" kindref="member">enable</ref>();</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>((byte2&lt;&lt;8)|byte1);</highlight></codeline>
<codeline lineno="77"><highlight class="normal">}</highlight></codeline>
<codeline lineno="78"><highlight class="normal"></highlight></codeline>
<codeline lineno="79"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d9/d8d/group__tle9xxxapi_1gad648699c59a176eabd881829ec566611" kindref="member">Tle9xxx::configInterruptMask</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="80"><highlight class="normal">{</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>tosend<sp/>=<sp/><sp/><sp/><ref refid="d6/d9b/_t_l_e9xxx-reg_8hpp_1a808d56364b9457dcea00d8d003a78f9ba25f3f1d13f1f128d4dfbd0d57f853cc0" kindref="member">WD_SDM_DISABLE</ref><sp/>|<sp/><ref refid="d6/d9b/_t_l_e9xxx-reg_8hpp_1a808d56364b9457dcea00d8d003a78f9baed4b18faeb3990f599556bc34da668e7" kindref="member">BD_STAT</ref><sp/>|<sp/><ref refid="d6/d9b/_t_l_e9xxx-reg_8hpp_1a808d56364b9457dcea00d8d003a78f9ba558d49f0b6c410f1845705ef7da5d497" kindref="member">HS_STAT</ref><sp/>|<sp/><ref refid="d6/d9b/_t_l_e9xxx-reg_8hpp_1a808d56364b9457dcea00d8d003a78f9bac408f4b4bc97e39c386d0874cc377760" kindref="member">TEMP_STAT</ref><sp/>|<sp/><ref refid="d6/d9b/_t_l_e9xxx-reg_8hpp_1a808d56364b9457dcea00d8d003a78f9ba9098c441888b38a6cc954a7d402e4c50" kindref="member">SUPPLY_STAT</ref>;</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga5671bd1e237f00622df09f1dc4f4aa4c" kindref="member">writeReg</ref>(<ref refid="d6/d9b/_t_l_e9xxx-reg_8hpp_1a9f04d5c00ebe702d4bd1775cd6e990e3a97549239cd7b50346ae454df63028710" kindref="member">REG_ADDR_INT_MASK</ref>,<sp/>tosend);</highlight></codeline>
<codeline lineno="84"><highlight class="normal">}</highlight></codeline>
<codeline lineno="85"><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal">uint16_t<sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga4287b4c3b90e8b4ebdc680e08da64dc6" kindref="member">Tle9xxx::checkStatusInformationField</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="87"><highlight class="normal">{</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>ErrorCode<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>RegAddress<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>RegContent<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/>ErrorCode<sp/>=<sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga69d9baf47a1c79db784c2deea82801b6" kindref="member">checkStatSUP</ref>(RegAddress,<sp/>RegContent);<sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Read<sp/>the<sp/>first<sp/>register<sp/>at<sp/>the<sp/>beginning<sp/>in<sp/>order<sp/>to<sp/>read<sp/>the<sp/>actual<sp/>SIF<sp/>values.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(_statusInformationField<sp/>&amp;<sp/>SIF_SUPPLY_STAT)<sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga6f9b5e974a9fb337e29d77e7f74f6685" kindref="member">PrintTLEErrorMessage</ref>(ErrorCode,<sp/>RegAddress,<sp/>RegContent);</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(_statusInformationField<sp/>&amp;<sp/>SIF_TEMP_STAT)<sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga6f9b5e974a9fb337e29d77e7f74f6685" kindref="member">PrintTLEErrorMessage</ref>(<ref refid="d9/d8d/group__tle9xxxapi_1ga4f04b59ebd49fd0266fb15f7f0431d12" kindref="member">checkStatTHERM</ref>(RegAddress,<sp/>RegContent),<sp/>RegAddress,<sp/>RegContent);</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(_statusInformationField<sp/>&amp;<sp/>SIF_BUS_STAT)<sp/>;</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(_statusInformationField<sp/>&amp;<sp/>SIF_WAKE_UP)<sp/>;</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(_statusInformationField<sp/>&amp;<sp/>SIF_HS_STAT)<sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga6f9b5e974a9fb337e29d77e7f74f6685" kindref="member">PrintTLEErrorMessage</ref>(<ref refid="d9/d8d/group__tle9xxxapi_1gadf6450de430cf116e9a71cea08ea9255" kindref="member">checkStatHSS</ref>(RegAddress,<sp/>RegContent),<sp/>RegAddress,<sp/>RegContent);</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(_statusInformationField<sp/>&amp;<sp/>SIF_DEV_STAT)<sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga6f9b5e974a9fb337e29d77e7f74f6685" kindref="member">PrintTLEErrorMessage</ref>(<ref refid="d9/d8d/group__tle9xxxapi_1ga485b2d6b8dfab713af4ae901cfe8f7c2" kindref="member">checkStatDEV</ref>(RegAddress,<sp/>RegContent),<sp/>RegAddress,<sp/>RegContent);</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(_statusInformationField<sp/>&amp;<sp/>SIF_BD_STAT)<sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga6f9b5e974a9fb337e29d77e7f74f6685" kindref="member">PrintTLEErrorMessage</ref>(<ref refid="d9/d8d/group__tle9xxxapi_1gac4153fb68bf24e4e6381bc2beca0a434" kindref="member">checkStatDSOV</ref>(RegAddress,<sp/>RegContent),<sp/>RegAddress,<sp/>RegContent);</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(_statusInformationField<sp/>&amp;<sp/>SIF_SPI_CRC_FAIL)<sp/>;</highlight></codeline>
<codeline lineno="100"><highlight class="normal"></highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>_error_enable;</highlight></codeline>
<codeline lineno="102"><highlight class="normal">}</highlight></codeline>
<codeline lineno="103"><highlight class="normal"></highlight></codeline>
<codeline lineno="104"><highlight class="normal"></highlight></codeline>
<codeline lineno="105"><highlight class="normal">uint16_t<sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga69d9baf47a1c79db784c2deea82801b6" kindref="member">Tle9xxx::checkStatSUP</ref>(uint16_t<sp/>&amp;RegAddress,<sp/>uint16_t<sp/>&amp;RegContent)</highlight></codeline>
<codeline lineno="106"><highlight class="normal">{</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>input=0;</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>ErrorCode<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/>input<sp/>=<sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga93b8e9cce502e67533e47d443af36187" kindref="member">readReg</ref>(<ref refid="d6/d9b/_t_l_e9xxx-reg_8hpp_1ac2a0df89a631b50c43693d35dd336c27a94f77d8a0aec7343d0719c22cfbc71dd" kindref="member">REG_ADDR_SUP_STAT</ref>);</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/>_statusInformationField<sp/>=<sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga5671bd1e237f00622df09f1dc4f4aa4c" kindref="member">writeReg</ref>(<ref refid="d6/d9b/_t_l_e9xxx-reg_8hpp_1ac2a0df89a631b50c43693d35dd336c27a94f77d8a0aec7343d0719c22cfbc71dd" kindref="member">REG_ADDR_SUP_STAT</ref>,<sp/>0);</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/>RegAddress<sp/>=<sp/><ref refid="d6/d9b/_t_l_e9xxx-reg_8hpp_1ac2a0df89a631b50c43693d35dd336c27a94f77d8a0aec7343d0719c22cfbc71dd" kindref="member">REG_ADDR_SUP_STAT</ref>;</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/>RegContent<sp/>=<sp/>input;</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((input<sp/>&amp;<sp/>0x1000)<sp/>&gt;<sp/>0)<sp/>ErrorCode<sp/>=<sp/>TLE_TEMP_SHUTDOWN;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>overtemperature<sp/>detection<sp/>(chargepump)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((input<sp/>&amp;<sp/>0x0D55)<sp/>&gt;<sp/>0)<sp/>ErrorCode<sp/>|=<sp/>TLE_UNDER_VOLTAGE;<sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>undervoltage<sp/>detection</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((input<sp/>&amp;<sp/>0x02A2)<sp/>&gt;<sp/>0)<sp/>ErrorCode<sp/>|=<sp/>TLE_OVER_VOLTAGE;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>overvoltage<sp/>detection</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((input<sp/>&amp;<sp/>0x0008)<sp/>&gt;<sp/>0)<sp/>ErrorCode<sp/>|=<sp/>TLE_SHORT_CIRCUIT;<sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>short<sp/>circuit<sp/>detection</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((input<sp/>&amp;<sp/>0x8000)<sp/>&gt;<sp/>0)<sp/>ErrorCode<sp/>|=<sp/>TLE_POWER_ON_RESET;<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Power-On<sp/>reset<sp/>detection</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="118"><highlight class="normal"></highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ErrorCode;</highlight></codeline>
<codeline lineno="120"><highlight class="normal">}</highlight></codeline>
<codeline lineno="121"><highlight class="normal"></highlight></codeline>
<codeline lineno="122"><highlight class="normal">uint16_t<sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga4f04b59ebd49fd0266fb15f7f0431d12" kindref="member">Tle9xxx::checkStatTHERM</ref>(uint16_t<sp/>&amp;RegAddress,<sp/>uint16_t<sp/>&amp;RegContent)</highlight></codeline>
<codeline lineno="123"><highlight class="normal">{</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>input=0;</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>ErrorCode<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/>input<sp/>=<sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga93b8e9cce502e67533e47d443af36187" kindref="member">readReg</ref>(<ref refid="d6/d9b/_t_l_e9xxx-reg_8hpp_1ac2a0df89a631b50c43693d35dd336c27a98d36f489982fa87fa98d88570f370fc" kindref="member">REG_ADDR_THERM_STAT</ref>);</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga5671bd1e237f00622df09f1dc4f4aa4c" kindref="member">writeReg</ref>(<ref refid="d6/d9b/_t_l_e9xxx-reg_8hpp_1ac2a0df89a631b50c43693d35dd336c27a98d36f489982fa87fa98d88570f370fc" kindref="member">REG_ADDR_THERM_STAT</ref>,<sp/>0);</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/>RegAddress<sp/>=<sp/><ref refid="d6/d9b/_t_l_e9xxx-reg_8hpp_1ac2a0df89a631b50c43693d35dd336c27a98d36f489982fa87fa98d88570f370fc" kindref="member">REG_ADDR_THERM_STAT</ref>;</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/>RegContent<sp/>=<sp/>input;</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((input<sp/>&amp;<sp/>0x000E)<sp/>&gt;<sp/>0)<sp/>ErrorCode<sp/>=<sp/>TLE_TEMP_SHUTDOWN;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>overtemperature<sp/>detection</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((input<sp/>&amp;<sp/>0x0001)<sp/>&gt;<sp/>0)<sp/>ErrorCode<sp/>|=<sp/>TLE_TEMP_SHUTDOWN;<sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>temperature<sp/>warning</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"></highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ErrorCode;</highlight></codeline>
<codeline lineno="134"><highlight class="normal">}</highlight></codeline>
<codeline lineno="135"><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal">uint16_t<sp/><ref refid="d9/d8d/group__tle9xxxapi_1gadf6450de430cf116e9a71cea08ea9255" kindref="member">Tle9xxx::checkStatHSS</ref>(uint16_t<sp/>&amp;RegAddress,<sp/>uint16_t<sp/>&amp;RegContent)</highlight></codeline>
<codeline lineno="137"><highlight class="normal">{</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>input=0;</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>ErrorCode<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/>input<sp/>=<sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga93b8e9cce502e67533e47d443af36187" kindref="member">readReg</ref>(<ref refid="d6/d9b/_t_l_e9xxx-reg_8hpp_1ac2a0df89a631b50c43693d35dd336c27aa9242a7a4d1374a96bf226360b77bcbf" kindref="member">REG_ADDR_HS_OL_OC_OT_STAT</ref>);</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga5671bd1e237f00622df09f1dc4f4aa4c" kindref="member">writeReg</ref>(<ref refid="d6/d9b/_t_l_e9xxx-reg_8hpp_1ac2a0df89a631b50c43693d35dd336c27aa9242a7a4d1374a96bf226360b77bcbf" kindref="member">REG_ADDR_HS_OL_OC_OT_STAT</ref>,<sp/>0);</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/>RegAddress<sp/>=<sp/><ref refid="d6/d9b/_t_l_e9xxx-reg_8hpp_1ac2a0df89a631b50c43693d35dd336c27aa9242a7a4d1374a96bf226360b77bcbf" kindref="member">REG_ADDR_HS_OL_OC_OT_STAT</ref>;</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/>RegContent<sp/>=<sp/>input;</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((input<sp/>&amp;<sp/>0x1C00)<sp/>&gt;<sp/>0)<sp/>ErrorCode<sp/>=<sp/>TLE_TEMP_SHUTDOWN;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>overtemperature<sp/>detection</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((input<sp/>&amp;<sp/>0x00E0)<sp/>&gt;<sp/>0)<sp/>ErrorCode<sp/>|=<sp/>TLE_LOAD_ERROR;<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>open<sp/>load<sp/>detection</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((input<sp/>&amp;<sp/>0x0007)<sp/>&gt;<sp/>0)<sp/>ErrorCode<sp/>|=<sp/>TLE_OVERCURRENT;<sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>overcurrent<sp/>detection</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"></highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ErrorCode;</highlight></codeline>
<codeline lineno="149"><highlight class="normal">}</highlight></codeline>
<codeline lineno="150"><highlight class="normal"></highlight></codeline>
<codeline lineno="151"><highlight class="normal">uint16_t<sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga485b2d6b8dfab713af4ae901cfe8f7c2" kindref="member">Tle9xxx::checkStatDEV</ref>(uint16_t<sp/>&amp;RegAddress,<sp/>uint16_t<sp/>&amp;RegContent)</highlight></codeline>
<codeline lineno="152"><highlight class="normal">{</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>input=0;</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>ErrorCode<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/>input<sp/>=<sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga93b8e9cce502e67533e47d443af36187" kindref="member">readReg</ref>(<ref refid="d6/d9b/_t_l_e9xxx-reg_8hpp_1ac2a0df89a631b50c43693d35dd336c27aab7b7f34392ecfda42dc819da2d9644f" kindref="member">REG_ADDR_DEV_STAT</ref>);</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga5671bd1e237f00622df09f1dc4f4aa4c" kindref="member">writeReg</ref>(<ref refid="d6/d9b/_t_l_e9xxx-reg_8hpp_1ac2a0df89a631b50c43693d35dd336c27aab7b7f34392ecfda42dc819da2d9644f" kindref="member">REG_ADDR_DEV_STAT</ref>,<sp/>0);</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/>RegAddress<sp/>=<sp/><ref refid="d6/d9b/_t_l_e9xxx-reg_8hpp_1ac2a0df89a631b50c43693d35dd336c27aab7b7f34392ecfda42dc819da2d9644f" kindref="member">REG_ADDR_DEV_STAT</ref>;</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/>RegContent<sp/>=<sp/>input;</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((input<sp/>&amp;<sp/>0x0003)<sp/>&gt;<sp/>0)<sp/>ErrorCode<sp/>=<sp/>TLE_SPI_ERROR;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>SPI<sp/>Error</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="160"><highlight class="normal"></highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ErrorCode;</highlight></codeline>
<codeline lineno="162"><highlight class="normal">}</highlight></codeline>
<codeline lineno="163"><highlight class="normal"></highlight></codeline>
<codeline lineno="164"><highlight class="normal">uint16_t<sp/><ref refid="d9/d8d/group__tle9xxxapi_1gac4153fb68bf24e4e6381bc2beca0a434" kindref="member">Tle9xxx::checkStatDSOV</ref>(uint16_t<sp/>&amp;RegAddress,<sp/>uint16_t<sp/>&amp;RegContent)</highlight></codeline>
<codeline lineno="165"><highlight class="normal">{</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>input=0;</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>ErrorCode<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/>input<sp/>=<sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga93b8e9cce502e67533e47d443af36187" kindref="member">readReg</ref>(<ref refid="d6/d9b/_t_l_e9xxx-reg_8hpp_1ac2a0df89a631b50c43693d35dd336c27a0846eaae659eb958d7f02ca6835133b6" kindref="member">REG_ADDR_DSOV</ref>);</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga5671bd1e237f00622df09f1dc4f4aa4c" kindref="member">writeReg</ref>(<ref refid="d6/d9b/_t_l_e9xxx-reg_8hpp_1ac2a0df89a631b50c43693d35dd336c27a0846eaae659eb958d7f02ca6835133b6" kindref="member">REG_ADDR_DSOV</ref>,<sp/>0);</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/>RegAddress<sp/>=<sp/><ref refid="d6/d9b/_t_l_e9xxx-reg_8hpp_1ac2a0df89a631b50c43693d35dd336c27a0846eaae659eb958d7f02ca6835133b6" kindref="member">REG_ADDR_DSOV</ref>;</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/>RegContent<sp/>=<sp/>input;</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((input<sp/>&amp;<sp/>0x00FF)<sp/>&gt;<sp/>0)<sp/>ErrorCode<sp/>=<sp/>TLE_HS_LS_OVERVOLTAGE;</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((input<sp/>&amp;<sp/>0x4000)<sp/>&gt;<sp/>0)<sp/>ErrorCode<sp/>|=<sp/>TLE_OC_CSA_OVERCURRENT;</highlight></codeline>
<codeline lineno="174"><highlight class="normal"></highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ErrorCode;</highlight></codeline>
<codeline lineno="176"><highlight class="normal">}</highlight></codeline>
<codeline lineno="177"><highlight class="normal"></highlight></codeline>
<codeline lineno="178"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga6f9b5e974a9fb337e29d77e7f74f6685" kindref="member">Tle9xxx::PrintTLEErrorMessage</ref>(uint16_t<sp/>msg,<sp/>uint16_t<sp/>&amp;RegAddress,<sp/>uint16_t<sp/>&amp;RegContent)</highlight></codeline>
<codeline lineno="179"><highlight class="normal">{</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(msg<sp/>&amp;<sp/>TLE_SPI_ERROR)</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Serial.println(F(</highlight><highlight class="stringliteral">&quot;===&gt;<sp/>Error:<sp/>SPI-Failure<sp/>&lt;===&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(msg<sp/>&amp;<sp/>TLE_LOAD_ERROR)</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Serial.println(F(</highlight><highlight class="stringliteral">&quot;===&gt;<sp/>Error:<sp/>Open-Load<sp/>detected!<sp/>&lt;===&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(msg<sp/>&amp;<sp/>TLE_UNDER_VOLTAGE)</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Serial.println(F(</highlight><highlight class="stringliteral">&quot;===&gt;<sp/>Error:<sp/>Undervoltage<sp/>detected!<sp/>Check<sp/>your<sp/>voltage<sp/>supply<sp/>&lt;===&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(msg<sp/>&amp;<sp/>TLE_OVER_VOLTAGE)</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Serial.println(F(</highlight><highlight class="stringliteral">&quot;===&gt;<sp/>Error:<sp/>Overvoltage<sp/>detected!<sp/>Check<sp/>your<sp/>voltage<sp/>supply<sp/>&lt;====&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(msg<sp/>&amp;<sp/>TLE_POWER_ON_RESET)</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Serial.println(F(</highlight><highlight class="stringliteral">&quot;===&gt;<sp/>Power<sp/>on<sp/>reset<sp/>detected!<sp/>&lt;===&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(msg<sp/>&amp;<sp/>TLE_TEMP_SHUTDOWN)</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Serial.println(F(</highlight><highlight class="stringliteral">&quot;===&gt;<sp/>Error:<sp/>Temperature<sp/>shutdown<sp/>&lt;===&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(msg<sp/>&amp;<sp/>TLE_OVERCURRENT)</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Serial.println(F(</highlight><highlight class="stringliteral">&quot;===&gt;<sp/>Error:<sp/>Overcurrent<sp/>detected!<sp/>&lt;===&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(msg<sp/>&amp;<sp/>TLE_SHORT_CIRCUIT)</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Serial.println(F(</highlight><highlight class="stringliteral">&quot;===&gt;<sp/>Error:<sp/>Short<sp/>circuit<sp/>detected!<sp/>&lt;===&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(msg<sp/>&amp;<sp/>TLE_HS_LS_OVERVOLTAGE)</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Serial.println(F(</highlight><highlight class="stringliteral">&quot;===&gt;<sp/>Error:<sp/>HS<sp/>/<sp/>LS<sp/>Overvoltage<sp/>&lt;===&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(msg<sp/>&amp;<sp/>TLE_OC_CSA_OVERCURRENT)</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Serial.println(F(</highlight><highlight class="stringliteral">&quot;===&gt;<sp/>Error:<sp/>CSA<sp/>Overcurrent<sp/>&lt;===&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="220"><highlight class="normal"></highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(msg<sp/>&gt;<sp/>0)</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Serial.print(F(</highlight><highlight class="stringliteral">&quot;\tReg:<sp/>0x&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Serial.print(RegAddress,<sp/>HEX);</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Serial.print(F(</highlight><highlight class="stringliteral">&quot;<sp/><sp/>Content:<sp/>0x&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Serial.print(RegContent,<sp/>HEX);</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Serial.println(</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_error_enable<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="230"><highlight class="normal">}</highlight></codeline>
<codeline lineno="231"><highlight class="normal"></highlight></codeline>
<codeline lineno="232"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga62d17043ca2b290c1d976adce129fe72" kindref="member">Tle9xxx::set_TPRECHG</ref>(uint8_t<sp/>t_pchgx,<sp/>uint8_t<sp/>t_pdchgx)</highlight></codeline>
<codeline lineno="233"><highlight class="normal">{</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>ToSend<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/>ToSend<sp/>=<sp/>((t_pchgx<sp/>&lt;&lt;<sp/>13)<sp/>&amp;<sp/>0xE000)<sp/>|<sp/>((t_pchgx<sp/>&lt;&lt;<sp/>10)<sp/>&amp;<sp/>0x1C00)|<sp/>((t_pchgx<sp/>&lt;&lt;<sp/>7)<sp/>&amp;<sp/>0x380)|<sp/>((t_pchgx<sp/>&lt;&lt;<sp/>4)<sp/>&amp;<sp/>0x70);</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga5671bd1e237f00622df09f1dc4f4aa4c" kindref="member">writeReg</ref>(<ref refid="d6/d9b/_t_l_e9xxx-reg_8hpp_1a9f04d5c00ebe702d4bd1775cd6e990e3a18fefba0b3e19495eee8ea0ed203667a" kindref="member">REG_ADDR_TPRECHG</ref>,<sp/>ToSend);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Set<sp/>Precharge<sp/>time</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="237"><highlight class="normal"></highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/>ToSend<sp/>=<sp/>((t_pdchgx<sp/>&lt;&lt;<sp/>13)<sp/>&amp;<sp/>0xE000)<sp/>|<sp/>((t_pdchgx<sp/>&lt;&lt;<sp/>10)<sp/>&amp;<sp/>0x1C00)|<sp/>((t_pdchgx<sp/>&lt;&lt;<sp/>7)<sp/>&amp;<sp/>0x380)|<sp/>((t_pdchgx<sp/>&lt;&lt;<sp/>4)<sp/>&amp;<sp/>0x70)<sp/>|<sp/>(0x001);</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga5671bd1e237f00622df09f1dc4f4aa4c" kindref="member">writeReg</ref>(<ref refid="d6/d9b/_t_l_e9xxx-reg_8hpp_1a9f04d5c00ebe702d4bd1775cd6e990e3a18fefba0b3e19495eee8ea0ed203667a" kindref="member">REG_ADDR_TPRECHG</ref>,<sp/>ToSend);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Set<sp/>Pre-Discharge<sp/>time</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="240"><highlight class="normal">}</highlight></codeline>
<codeline lineno="241"><highlight class="normal"></highlight></codeline>
<codeline lineno="242"><highlight class="normal"></highlight></codeline>
<codeline lineno="243"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d9/d8d/group__tle9xxxapi_1gab523ee9a41b3d69dd1a1e9704a7d1f69" kindref="member">Tle9xxx::set_ST_ICHG</ref>(uint8_t<sp/>ichgst1,<sp/>uint8_t<sp/>ichgst2,<sp/>uint8_t<sp/>ichgst3,<sp/>uint8_t<sp/>ichgst4)</highlight></codeline>
<codeline lineno="244"><highlight class="normal">{</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>ToSend<sp/><sp/>=<sp/>((ichgst4&lt;&lt;12)<sp/>&amp;<sp/>0xF000)<sp/>|<sp/>((ichgst3&lt;&lt;8)<sp/>&amp;<sp/>0x0F00)<sp/>|<sp/>((ichgst2&lt;&lt;4)<sp/>&amp;<sp/>0x00F0)<sp/>|<sp/>(ichgst1<sp/>&amp;<sp/>0x000F);</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga5671bd1e237f00622df09f1dc4f4aa4c" kindref="member">writeReg</ref>(<ref refid="d6/d9b/_t_l_e9xxx-reg_8hpp_1a9f04d5c00ebe702d4bd1775cd6e990e3a5a60cce720746db09ecd6f956626c05c" kindref="member">REG_ADDR_ST_ICHG</ref>,<sp/>ToSend);</highlight></codeline>
<codeline lineno="247"><highlight class="normal">}</highlight></codeline>
<codeline lineno="248"><highlight class="normal"></highlight></codeline>
<codeline lineno="249"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga65eef7abf4e3fb3c2c8d268e58b4b09d" kindref="member">Tle9xxx::set_HB_ICHG</ref>(uint8_t<sp/>idchg,<sp/>uint8_t<sp/>ichg,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>ACTorFW,<sp/>uint8_t<sp/>hb)</highlight></codeline>
<codeline lineno="250"><highlight class="normal">{</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>ToSend<sp/><sp/>=<sp/>((idchg&lt;&lt;10)<sp/>&amp;<sp/>0xFC00)<sp/>|<sp/>((ichg&lt;&lt;4)<sp/>&amp;<sp/>0x03F0)<sp/>|<sp/>(((ACTorFW&lt;&lt;2)|hb)&amp;<sp/>0x000F);</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga5671bd1e237f00622df09f1dc4f4aa4c" kindref="member">writeReg</ref>(<ref refid="d6/d9b/_t_l_e9xxx-reg_8hpp_1a9f04d5c00ebe702d4bd1775cd6e990e3a3ba32293d57ba2936c677a1fd30df2ea" kindref="member">REG_ADDR_HB_ICHG</ref>,<sp/>ToSend);</highlight></codeline>
<codeline lineno="253"><highlight class="normal">}</highlight></codeline>
<codeline lineno="254"><highlight class="normal"></highlight></codeline>
<codeline lineno="255"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga5276284f38e02781c28c7a62a51e054f" kindref="member">Tle9xxx::set_HB_ICHG_MAX</ref>(uint8_t<sp/>hbxidiag,<sp/>uint8_t<sp/>ichgMaxx)</highlight></codeline>
<codeline lineno="256"><highlight class="normal">{</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>ToSend<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(uint8_t<sp/>i=PHASE1;<sp/>i<sp/>&lt;<sp/>PHASE4;<sp/>i++)</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ToSend<sp/>=<sp/>ToSend<sp/>|<sp/>((hbxidiag&lt;&lt;(i+12))<sp/>|<sp/><sp/>(ichgMaxx&lt;&lt;(i*2)));</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="262"><highlight class="normal"></highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga5671bd1e237f00622df09f1dc4f4aa4c" kindref="member">writeReg</ref>(<ref refid="d6/d9b/_t_l_e9xxx-reg_8hpp_1a9f04d5c00ebe702d4bd1775cd6e990e3a01c68fd485bcc3a27b12a4e7622e3e36" kindref="member">REG_ADDR_HB_ICHG_MAX</ref>,<sp/>ToSend);</highlight></codeline>
<codeline lineno="264"><highlight class="normal">}</highlight></codeline>
<codeline lineno="265"><highlight class="normal"></highlight></codeline>
<codeline lineno="266"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga81037dacc231e2c29698780f05f51795" kindref="member">Tle9xxx::set_PCHG_INIT</ref>(uint8_t<sp/>pdchg_init,<sp/>uint8_t<sp/>pchg_init,<sp/>uint8_t<sp/>init_bnk)</highlight></codeline>
<codeline lineno="267"><highlight class="normal">{</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>ToSend<sp/><sp/>=<sp/>((pdchg_init&lt;&lt;10)<sp/>&amp;<sp/>0xFC00)<sp/>|<sp/>((pchg_init&lt;&lt;4)<sp/>&amp;<sp/>0x03F0)<sp/>|<sp/>(init_bnk&amp;<sp/>0x7);</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga5671bd1e237f00622df09f1dc4f4aa4c" kindref="member">writeReg</ref>(<ref refid="d6/d9b/_t_l_e9xxx-reg_8hpp_1a9f04d5c00ebe702d4bd1775cd6e990e3ad7cac748695775e7f36175396c5181ff" kindref="member">REG_ADDR_HB_PCHG_INIT</ref>,<sp/>ToSend);</highlight></codeline>
<codeline lineno="270"><highlight class="normal">}</highlight></codeline>
<codeline lineno="271"><highlight class="normal"></highlight></codeline>
<codeline lineno="272"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga3de1fbeace474f38922d52cbc2a3a345" kindref="member">Tle9xxx::set_TDON_HB_CTRL</ref>(uint8_t<sp/>t_don,<sp/>uint8_t<sp/>hb_tdon_bnk)</highlight></codeline>
<codeline lineno="273"><highlight class="normal">{</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>ToSend<sp/><sp/>=<sp/>((t_don&lt;&lt;8)<sp/>&amp;<sp/>0x3F00)<sp/>|<sp/>(hb_tdon_bnk<sp/>&amp;<sp/>0x7);</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga5671bd1e237f00622df09f1dc4f4aa4c" kindref="member">writeReg</ref>(<ref refid="d6/d9b/_t_l_e9xxx-reg_8hpp_1a9f04d5c00ebe702d4bd1775cd6e990e3aed4e4101fe04c8b1fb50cb1d48c42308" kindref="member">REG_ADDR_TDON_HB_CTRL</ref>,<sp/>ToSend);</highlight></codeline>
<codeline lineno="276"><highlight class="normal">}</highlight></codeline>
<codeline lineno="277"><highlight class="normal"></highlight></codeline>
<codeline lineno="278"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga88baa110519cdd5e918321a4e5b97abd" kindref="member">Tle9xxx::set_TDOFF_HB_CTRL</ref>(uint8_t<sp/>t_doff,<sp/>uint8_t<sp/>hb_tdoff_bnk)</highlight></codeline>
<codeline lineno="279"><highlight class="normal">{</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>ToSend<sp/><sp/>=<sp/>((t_doff&lt;&lt;8)<sp/>&amp;<sp/>0x3F00)<sp/>|<sp/>(hb_tdoff_bnk<sp/>&amp;<sp/>0x7);</highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga5671bd1e237f00622df09f1dc4f4aa4c" kindref="member">writeReg</ref>(<ref refid="d6/d9b/_t_l_e9xxx-reg_8hpp_1a9f04d5c00ebe702d4bd1775cd6e990e3acec56c402256c573577753b8ce4431ad" kindref="member">REG_ADDR_TDOFF_HB_CTRL</ref>,<sp/>ToSend);</highlight></codeline>
<codeline lineno="282"><highlight class="normal">}</highlight></codeline>
<codeline lineno="283"><highlight class="normal"></highlight></codeline>
<codeline lineno="284"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga68e755a742e078186cc75844ae66768a" kindref="member">Tle9xxx::set_LS_and_HS_VDS</ref>(uint8_t<sp/>vdsth,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>deep_adap,<sp/>uint8_t<sp/>tfvds)</highlight></codeline>
<codeline lineno="285"><highlight class="normal">{</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>ToSend<sp/>=<sp/>((tfvds&lt;&lt;12)<sp/>&amp;<sp/>0x3000)<sp/>|<sp/>((vdsth&lt;&lt;9)<sp/>&amp;<sp/>0xE00)<sp/>|<sp/>((vdsth&lt;&lt;6)<sp/>&amp;<sp/>0x1C0)<sp/>|<sp/>((vdsth&lt;&lt;3)<sp/>&amp;<sp/>0x38)<sp/>|<sp/>(vdsth<sp/>&amp;<sp/>0x7);</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga5671bd1e237f00622df09f1dc4f4aa4c" kindref="member">writeReg</ref>(<ref refid="d6/d9b/_t_l_e9xxx-reg_8hpp_1a9f04d5c00ebe702d4bd1775cd6e990e3a0d811e04b26facfb99c0c9367a51594a" kindref="member">REG_ADDR_LS_VDS</ref>,<sp/>ToSend);</highlight></codeline>
<codeline lineno="288"><highlight class="normal"></highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/>ToSend<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/>ToSend<sp/>=<sp/>((deep_adap&lt;&lt;12)<sp/>&amp;<sp/>0x1000)<sp/>|<sp/>((vdsth&lt;&lt;9)<sp/>&amp;<sp/>0xE00)<sp/>|<sp/>((vdsth&lt;&lt;6)<sp/>&amp;<sp/>0x1C0)<sp/>|<sp/>((vdsth&lt;&lt;3)<sp/>&amp;<sp/>0x38)<sp/>|<sp/>(vdsth<sp/>&amp;<sp/>0x7);</highlight></codeline>
<codeline lineno="291"><highlight class="normal"></highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga5671bd1e237f00622df09f1dc4f4aa4c" kindref="member">writeReg</ref>(<ref refid="d6/d9b/_t_l_e9xxx-reg_8hpp_1a9f04d5c00ebe702d4bd1775cd6e990e3a086bdef407e0acfc3d763ec362b0a9e3" kindref="member">REG_ADDR_HS_VDS</ref>,<sp/>ToSend);</highlight></codeline>
<codeline lineno="293"><highlight class="normal">}</highlight></codeline>
<codeline lineno="294"><highlight class="normal"></highlight></codeline>
<codeline lineno="295"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d9/d8d/group__tle9xxxapi_1gaf698b2d9527ff60ebb579b7f37a9541c" kindref="member">Tle9xxx::set_CCP_BLK</ref>(uint8_t<sp/>t_blank,<sp/>uint8_t<sp/>t_ccp,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>ACTorFW,<sp/>uint8_t<sp/>hb)</highlight></codeline>
<codeline lineno="296"><highlight class="normal">{</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>ToSend<sp/>=<sp/>((t_blank&lt;&lt;12)&amp;0xF000)<sp/>|<sp/>((t_ccp&lt;&lt;8)&amp;0xF00)<sp/>|<sp/>(((ACTorFW&lt;&lt;2)|hb)&amp;<sp/>0x000F);</highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga5671bd1e237f00622df09f1dc4f4aa4c" kindref="member">writeReg</ref>(<ref refid="d6/d9b/_t_l_e9xxx-reg_8hpp_1a9f04d5c00ebe702d4bd1775cd6e990e3aced99d37567b04b797d867ef7a70d7f8" kindref="member">REG_ADDR_CCP_BLK</ref>,<sp/>ToSend);</highlight></codeline>
<codeline lineno="299"><highlight class="normal">}</highlight></codeline>
<codeline lineno="300"><highlight class="normal"></highlight></codeline>
<codeline lineno="301"><highlight class="normal"></highlight></codeline>
<codeline lineno="302"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d9/d8d/group__tle9xxxapi_1gac876192b5abd5ec2dd836df8ee41b85c" kindref="member">Tle9xxx::checkStat_TRISE_FALL</ref>(uint8_t<sp/>hb,<sp/>uint8_t<sp/>&amp;Trise,<sp/>uint8_t<sp/>&amp;Tfall)</highlight></codeline>
<codeline lineno="303"><highlight class="normal">{</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>input=0;</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>reg=0;</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal">(hb){</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>PHASE1:<sp/>reg<sp/>=<sp/><ref refid="d6/d9b/_t_l_e9xxx-reg_8hpp_1ac2a0df89a631b50c43693d35dd336c27ad5b1ac504a90a54f0133d15cb636c7ce" kindref="member">REG_ADDR_TRISE_FALL1</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>PHASE2:<sp/>reg<sp/>=<sp/><ref refid="d6/d9b/_t_l_e9xxx-reg_8hpp_1ac2a0df89a631b50c43693d35dd336c27a5bdcfeb00e2c9c7fc0027f0a81661680" kindref="member">REG_ADDR_TRISE_FALL2</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>PHASE3:<sp/>reg<sp/>=<sp/><ref refid="d6/d9b/_t_l_e9xxx-reg_8hpp_1ac2a0df89a631b50c43693d35dd336c27adae8700326c0c7312edc4106e4ba4bc8" kindref="member">REG_ADDR_TRISE_FALL3</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>PHASE4:<sp/>reg<sp/>=<sp/><ref refid="d6/d9b/_t_l_e9xxx-reg_8hpp_1ac2a0df89a631b50c43693d35dd336c27af408c1ce23b8e3bd89b11f74fbea8596" kindref="member">REG_ADDR_TRISE_FALL4</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="312"><highlight class="normal"></highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/>input<sp/>=<sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga93b8e9cce502e67533e47d443af36187" kindref="member">readReg</ref>(reg);</highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/>Trise<sp/>=<sp/>input<sp/>&amp;<sp/>0x3F;</highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/>Tfall<sp/>=<sp/>(input&gt;&gt;8)<sp/>&amp;<sp/>0x3F;</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Trise<sp/>=<sp/>53.3<sp/>*<sp/>t_rise;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>[ns]</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Tfall<sp/>=<sp/>53.3<sp/>*<sp/>t_fall;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>[ns]</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="318"><highlight class="normal">}</highlight></codeline>
<codeline lineno="319"><highlight class="normal"></highlight></codeline>
<codeline lineno="320"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga62aefffcf1c28787ba829c2188286df1" kindref="member">Tle9xxx::init_AGC_Algorithm</ref>(uint8_t<sp/>hb)</highlight></codeline>
<codeline lineno="321"><highlight class="normal">{</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Initialize<sp/>the<sp/>algorithm<sp/>variable</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/>m_ichg<sp/>=<sp/>CONF_INIT_ICHG;</highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/>m_idchg<sp/>=<sp/>CONF_INIT_IDCHG;</highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Initialize<sp/>the<sp/>ICHG<sp/>at<sp/>the<sp/>TLE9562</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga65eef7abf4e3fb3c2c8d268e58b4b09d" kindref="member">set_HB_ICHG</ref>(CONF_INIT_IDCHG,<sp/>CONF_INIT_ICHG,<sp/>ACTIVE_MOSFET,<sp/>hb);</highlight></codeline>
<codeline lineno="327"><highlight class="normal"></highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>elements<sp/>with<sp/>an<sp/>index<sp/>lower<sp/>than<sp/>(CONF_INIT_ICHG<sp/>-<sp/>MIN_ICHG)<sp/>are<sp/>initialized</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>with<sp/>a<sp/>0,<sp/>the<sp/>rest<sp/>of<sp/>the<sp/>elements<sp/>with<sp/>EOS</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>(CONF_INIT_ICHG<sp/>-<sp/>MIN_ICHG);<sp/>i++)<sp/>m_trise_ema[i]<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>(CONF_INIT_ICHG<sp/>-<sp/>MIN_ICHG);<sp/>i<sp/>&lt;=<sp/>(MAX_ICHG<sp/>-<sp/>MIN_ICHG);<sp/>i++)<sp/><sp/>m_trise_ema[i]<sp/>=<sp/>EOS;</highlight></codeline>
<codeline lineno="332"><highlight class="normal"></highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>(CONF_INIT_IDCHG<sp/>-<sp/>MIN_ICHG);<sp/>i++)<sp/>m_tfall_ema[i]<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>(CONF_INIT_IDCHG<sp/>-<sp/>MIN_ICHG);<sp/>i<sp/>&lt;=<sp/>(MAX_ICHG<sp/>-<sp/>MIN_ICHG);<sp/>i++)<sp/><sp/>m_tfall_ema[i]<sp/>=<sp/>EOS;</highlight></codeline>
<codeline lineno="335"><highlight class="normal">}</highlight></codeline>
<codeline lineno="336"><highlight class="normal"></highlight></codeline>
<codeline lineno="337"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d9/d8d/group__tle9xxxapi_1gadf275dbf7f04495cad453ec1cc9e68ae" kindref="member">Tle9xxx::emaCalculation</ref>(uint8_t<sp/>hb,<sp/>uint8_t<sp/>*<sp/>risetime,<sp/>uint8_t<sp/>*<sp/>falltime)</highlight></codeline>
<codeline lineno="338"><highlight class="normal">{</highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t<sp/>tRISE,<sp/>tFALL;</highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Read<sp/>the<sp/>last<sp/>tRISE<sp/>measured<sp/>by<sp/>the<sp/>TLE9562</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//tRISE<sp/>=<sp/>readSpitRISE();</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d9/d8d/group__tle9xxxapi_1gac876192b5abd5ec2dd836df8ee41b85c" kindref="member">checkStat_TRISE_FALL</ref>(hb,<sp/>tRISE,<sp/>tFALL);</highlight></codeline>
<codeline lineno="343"><highlight class="normal"></highlight></codeline>
<codeline lineno="344"><highlight class="normal"></highlight><highlight class="comment"><sp/><sp/><sp/><sp/>/*******<sp/>Risetime<sp/>********/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>m_ichg<sp/>still<sp/>has<sp/>the<sp/>initialization<sp/>value,<sp/>tRISEx<sp/>is<sp/>directly<sp/>m_trisex_ema</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>without<sp/>calculating<sp/>the<sp/>EMA</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_trise_ema[m_ichg<sp/>-<sp/>MIN_ICHG]<sp/>==<sp/>EOS<sp/>||<sp/>m_trise_ema[m_ichg<sp/>-<sp/>MIN_ICHG]<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_trise_ema[m_ichg<sp/>-<sp/>MIN_ICHG]<sp/>=<sp/>tRISE<sp/>*<sp/>SCALING_FACTOR_FPA;</highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>EMA<sp/>calculated<sp/>and<sp/>stored<sp/>in<sp/>m_trise_ema<sp/>for<sp/>the<sp/>current<sp/>charge<sp/>current</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_trise_ema[m_ichg<sp/>-<sp/>MIN_ICHG]<sp/>=<sp/>tRISE<sp/>*<sp/>ALPHA3_FPA_SCALED<sp/>+<sp/>(m_trise_ema[m_ichg<sp/>-<sp/>MIN_ICHG]<sp/>/<sp/>SCALING_FACTOR_FPA)<sp/>*<sp/>ONE_MINUS_ALPHA3_FPA_SCALED<sp/>;</highlight></codeline>
<codeline lineno="352"><highlight class="normal"></highlight></codeline>
<codeline lineno="353"><highlight class="normal"></highlight><highlight class="comment"><sp/><sp/><sp/><sp/>/*******<sp/>Falltime<sp/>********/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_tfall_ema[m_idchg<sp/>-<sp/>MIN_ICHG]<sp/>==<sp/>EOS<sp/>||<sp/>m_tfall_ema[m_idchg<sp/>-<sp/>MIN_ICHG]<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_tfall_ema[m_idchg<sp/>-<sp/>MIN_ICHG]<sp/>=<sp/>tFALL<sp/>*<sp/>SCALING_FACTOR_FPA;</highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>EMA<sp/>calculated<sp/>and<sp/>stored<sp/>in<sp/>m_tfall_ema<sp/>for<sp/>the<sp/>current<sp/>charge<sp/>current</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_tfall_ema[m_idchg<sp/>-<sp/>MIN_ICHG]<sp/>=<sp/>tFALL<sp/>*<sp/>ALPHA3_FPA_SCALED<sp/>+<sp/>(m_tfall_ema[m_idchg<sp/>-<sp/>MIN_ICHG]<sp/>/<sp/>SCALING_FACTOR_FPA)<sp/>*<sp/>ONE_MINUS_ALPHA3_FPA_SCALED<sp/>;</highlight></codeline>
<codeline lineno="359"><highlight class="normal"></highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/>*risetime<sp/>=<sp/>tRISE;</highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/>*falltime<sp/>=<sp/>tFALL;</highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Serial.print(&quot;RISEtime:&quot;);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Serial.println(tRISE);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="364"><highlight class="normal">}</highlight></codeline>
<codeline lineno="365"><highlight class="normal"></highlight></codeline>
<codeline lineno="366"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga6770234f70fc34ea413597ff5bc5c1ec" kindref="member">Tle9xxx::adaptiveHysteresisDecisionTree</ref><sp/>(uint8_t<sp/>hb,<sp/>uint8_t<sp/>*<sp/>ichg,<sp/>uint8_t<sp/>*<sp/>idchg)</highlight></codeline>
<codeline lineno="367"><highlight class="normal">{</highlight></codeline>
<codeline lineno="368"><highlight class="normal"></highlight><highlight class="comment"><sp/><sp/><sp/><sp/>/*******<sp/>Risetime<sp/>********/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>charge<sp/>current<sp/>is<sp/>decreased<sp/>if<sp/>all<sp/>conditions<sp/>are<sp/>true:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>1.<sp/>The<sp/>EMA<sp/>calculated<sp/>for<sp/>the<sp/>current<sp/>ICHG3<sp/>is<sp/>lower<sp/>than<sp/>m_trise_tg</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>2.<sp/>The<sp/>EMA<sp/>that<sp/>was<sp/>calculated<sp/>when<sp/>the<sp/>ICHG3<sp/>was<sp/>set<sp/>to<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>immediately<sp/>lower<sp/>value<sp/>is<sp/>also<sp/>lower<sp/>than<sp/>tRISEx_TG</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>3.<sp/>The<sp/>minimum<sp/>ICHGx<sp/>has<sp/>still<sp/>not<sp/>been<sp/>reached.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((m_trise_ema[m_ichg<sp/>-<sp/>MIN_ICHG]<sp/>&lt;=<sp/>(m_trise_tg<sp/>*<sp/>SCALING_FACTOR_FPA))</highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;&amp;<sp/>(m_trise_ema[m_ichg<sp/>-<sp/>MIN_ICHG<sp/>-<sp/>1]<sp/>&lt;<sp/>(m_trise_tg<sp/>*<sp/>SCALING_FACTOR_FPA))</highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;&amp;<sp/>m_ichg<sp/>&gt;<sp/>MIN_ICHG)</highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_ichg<sp/>--;</highlight></codeline>
<codeline lineno="378"><highlight class="normal"></highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>charge<sp/>current<sp/>is<sp/>increased<sp/>if<sp/>these<sp/>three<sp/>conditions<sp/>are<sp/>met:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>1.<sp/>The<sp/>EMA<sp/>calculated<sp/>for<sp/>the<sp/>current<sp/>ICHGx<sp/>is<sp/>higher<sp/>than<sp/>m_trise_tg</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>2.<sp/>The<sp/>EMA<sp/>that<sp/>was<sp/>calculated<sp/>when<sp/>the<sp/>ICHGx<sp/>was<sp/>set<sp/>to<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>immediately<sp/>higher<sp/>value<sp/>of<sp/>the<sp/>current<sp/>one<sp/>is<sp/>also<sp/>higher<sp/>than<sp/>m_trise_tg</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>3.<sp/>The<sp/>maximum<sp/>ICHGx<sp/>has<sp/>still<sp/>not<sp/>been<sp/>reached.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((m_trise_ema[m_ichg<sp/>-<sp/>MIN_ICHG]<sp/>&gt;=<sp/>(m_trise_tg<sp/>*<sp/>SCALING_FACTOR_FPA))</highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;&amp;<sp/>(m_trise_ema[m_ichg<sp/>-<sp/>MIN_ICHG<sp/>+<sp/>1]<sp/>&gt;<sp/>(m_trise_tg<sp/>*<sp/>SCALING_FACTOR_FPA))</highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;&amp;<sp/>m_ichg<sp/>&lt;<sp/>MAX_ICHG)</highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_ichg<sp/>++;</highlight></codeline>
<codeline lineno="388"><highlight class="normal"></highlight></codeline>
<codeline lineno="389"><highlight class="normal"></highlight><highlight class="comment"><sp/><sp/><sp/><sp/>/*******<sp/>Falltime<sp/>********/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((m_tfall_ema[m_idchg<sp/>-<sp/>MIN_ICHG]<sp/>&lt;=<sp/>(m_tfall_tg<sp/>*<sp/>SCALING_FACTOR_FPA))</highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;&amp;<sp/>(m_tfall_ema[m_idchg<sp/>-<sp/>MIN_ICHG<sp/>-<sp/>1]<sp/>&lt;<sp/>(m_tfall_tg<sp/>*<sp/>SCALING_FACTOR_FPA))</highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;&amp;<sp/>m_idchg<sp/>&gt;<sp/>MIN_ICHG)</highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_idchg<sp/>--;</highlight></codeline>
<codeline lineno="394"><highlight class="normal"></highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((m_tfall_ema[m_idchg<sp/>-<sp/>MIN_ICHG]<sp/>&gt;=<sp/>(m_tfall_tg<sp/>*<sp/>SCALING_FACTOR_FPA))</highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;&amp;<sp/>(m_tfall_ema[m_idchg<sp/>-<sp/>MIN_ICHG<sp/>+<sp/>1]<sp/>&gt;<sp/>(m_tfall_tg<sp/>*<sp/>SCALING_FACTOR_FPA))</highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;&amp;<sp/>m_idchg<sp/>&lt;<sp/>MAX_ICHG)</highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_idchg<sp/>++;</highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Set<sp/>the<sp/>ICHG<sp/>at<sp/>the<sp/>TLE9562</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d9/d8d/group__tle9xxxapi_1ga65eef7abf4e3fb3c2c8d268e58b4b09d" kindref="member">set_HB_ICHG</ref>(m_idchg,<sp/>m_ichg,<sp/>ACTIVE_MOSFET,<sp/>hb);</highlight></codeline>
<codeline lineno="402"><highlight class="normal"></highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/>*ichg<sp/>=<sp/>m_ichg;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Hand<sp/>over<sp/>to<sp/>the<sp/>pointervariable</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/>*idchg<sp/>=<sp/>m_idchg;</highlight></codeline>
<codeline lineno="405"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="src/corelib/TLE9xxx.cpp"/>
  </compounddef>
</doxygen>
